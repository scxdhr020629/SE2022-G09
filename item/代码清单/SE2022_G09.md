# <center>博青秀代码清单
## 前端代码
### Activity.js
```javascript
import React, { useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    ScrollView,
    TouchableOpacity,
    FlatList,
    View,
    TextInput,
    TouchableNativeFeedback,
    Image,
    ActivityIndicator,
    Dimensions,
    StatusBar,
    ImageBackground,
    SafeAreaView,
} from "react-native";
import CheckBox from "@react-native-community/checkbox";
import { color } from "react-native-reanimated";

const Activity = (prop, navigation) => {
    const DATA = [
        {
            id: '18',
            title: '杭州融设计图书馆',
            acttime: '2022-11-07',
            actwhere: '浙江省杭州市余杭区',
        },
        {
            id: '19',
            title: '杭州智慧谷服务中心',
            acttime: '2022-11-10',
            actwhere: '浙江省湖州市拱墅区',
        },
        {
            id: '20',
            title: '上城村文化礼堂开放日',
            acttime: '2022-11-10',
            actwhere: '浙江省湖州市拱墅区',
        },
    ];

    const Item = ({ title, acttime, actwhere }) => {
        const [agree, setAgree] = useState(false);
        //const url=~~DATA.imageFound
        return (
            <View style={styles.item} >
                <View style={{ flex: 1 }}>
                    <View style={{ flexDirection: 'row' }}>
                        <Text style={styles.title}>{title}</Text>
                        <CheckBox
                            value={agree}
                            onChange={() => setAgree(!agree)}
                            style={{ position: 'absolute', right: -3 }}
                        />

                    </View>

                    <Text style={styles.smalltitle}>时间：{acttime}</Text>
                    <Text style={styles.smalltitle}>地点：{actwhere}</Text>
                </View>
            </View>

        );
    }
    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();

    const order = () => {
        /**更新数据库 */
        setData({ ...data, numOfOrder: data.numOfOrder + 1 });
    }
    const scrollItem = () => {
        let dates = new Array(7).fill("");
        let date = new Date();
        const ZHOU = ['周日', '周一', '周二',
            '周三', '周四', '周五', '周六'];

        return dates.map((value, index) => {
            let month_day = new Date(date.getTime() + index * 24 * 3600 * 1000);
            return (
                <TouchableOpacity
                    style={[
                        { marginRight: 15, marginLeft: 5, justifyContent: "center", alignItems: "center" },
                        (index === choice) ? styles.chose : {}
                    ]}
                    onPress={() => setChoice(index)}
                >
                    <Text>{ZHOU[(date.getDay() + index) % 7]}</Text>
                    <Text>{`${month_day.getMonth() + 1}.${month_day.getDate()}`}</Text>
                </TouchableOpacity>
            );
        })
    }
    const renderItem = ({ item }) => (
        <Item title={item.title} acttime={item.acttime} actwhere={item.actwhere} />
    );

    return (

        <SafeAreaView style={styles.container}>

            <View style={styles.topView}>
                <Ionicons
                    name="chevron-back-outline"
                    size={25}
                    style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                    onPress={() => prop.navigation.navigate("Home")}
                />
                <Text style={styles.visit} >预约参观</Text>
                <Text style={styles.joinin} onPress={() => prop.navigation.navigate('ActivitySignup')}>志愿报名</Text>
            </View>

            <SafeAreaView style={{
                //position: "absolute",
                //bottom: 50,
                height: 50,
                width: "100%",
                borderWidth: 1,
                borderColor: "#BBB",
                borderTopLeftRadius: 5,
                borderTopRightRadius: 5,
                backgroundColor: "#FFF"
            }}>
                <ScrollView
                    horizontal={true}
                    showsHorizontalScrollIndicator={false}
                >
                    {scrollItem()}
                </ScrollView>
            </SafeAreaView>
            <FlatList
                data={DATA}
                renderItem={renderItem}
                keyExtractor={item => item.id}
            />

            <TouchableOpacity style={styles.cancel}>
                <Text style={{ fontSize: 20, color: '#ffffff' }}>取消报名</Text>

            </TouchableOpacity>
        </SafeAreaView>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        //justifyContent: "center",
        //alignItems: "center",
        //marginLeft: 49,
        //marginRight: 49,
        // borderWidth: 1,
        // borderColor: "black"
    },
    herder: {
        height: 45,
    },
    item: {
        backgroundColor: '#ffffff',
        padding: 20,
        marginVertical: 8,
        marginHorizontal: 16,
        flexDirection: 'row',
        flexWrap: 'wrap',
    },
    topView: {
        height: 70,
        alignItems: 'center',
        justifyContent: 'center',
        backgroundColor: '#9D98FF',
        flexDirection: 'row',
    },
    visit: {
        color: '#ffffff',
        fontSize: 26,
        textDecorationLine: "underline",
        margin: 5
    },
    joinin: {
        color: '#ffffff',
        fontSize: 21,
        //textDecorationLine: "underline",
        margin: 5,

    },
    title: {
        fontSize: 19,
        marginBottom: 10,
    },
    smalltitle: {
        fontSize: 17,
        marginBottom: 5,
        marginLeft: 10,
    },
    imagestyle: {
        width: 120,
        height: 70,
        borderRadius: 3,
        resizeMode: 'cover',
        marginRight: 10,
    },
    input: {
        width: 180,
        marginLeft: 10,
        fontSize: 16,
    },
    inputView: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 5,
        width: 260,
        height: 45,
        margin: 15,
        flexDirection: "row",
    },
    checkbox: {
        position: "absolute",
        right: 7
    },
    cancel: {
        backgroundColor: '#9D98FF',
        borderRadius: 10,
        height: 50,
        width: '30%',
        position: "absolute",
        right: 30,
        bottom: 30,
        alignItems: 'center',
        justifyContent: 'center'
    }

});

export default Activity;
```  
### ActivitySignup.js
```javascript
import React, { useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import { Text, StyleSheet, ScrollView, TouchableOpacity, FlatList, View, TextInput, TouchableNativeFeedback, Image, ActivityIndicator, Dimensions, StatusBar, ImageBackground, SafeAreaView } from "react-native";
import CheckBox from "@react-native-community/checkbox";

const ActivitySignup = (prop) => {
    const DATA = [
        {
            id: '18',
            title: '杭州融设计图书馆',
            acttime: '2022-11-07',
            actwhere: '浙江省杭州市余杭区',
            details: '整理书架'
        },
        {
            id: '19',
            title: '杭州智慧谷服务中心',
            acttime: '2022-11-10',
            actwhere: '浙江省湖州市拱墅区',
            details: '领导参观演讲'
        },
        {
            id: '20',
            title: '上城村文化礼堂开放日',
            acttime: '2022-11-10',
            actwhere: '浙江省湖州市拱墅区',
            details: '维持秩序'
        },
    ];

    const Item = ({ title, acttime, actwhere, details }) => {
        const [agree, setAgree] = useState(false);
        //const url=~~DATA.imageFound
        return (
            <View style={styles.item} >
                <View style={{ flex: 1 }}>
                    <View style={{ flexDirection: 'row' }}>
                        <Text style={styles.title}>{title}</Text>
                        <CheckBox
                            value={agree}
                            onChange={() => setAgree(!agree)}
                            style={{ position: 'absolute', right: -3 }}
                        />
                    </View>

                    <Text style={styles.smalltitle}>时间：{acttime}</Text>
                    <Text style={styles.smalltitle}>地点：{actwhere}</Text>
                    <Text style={styles.smalltitle}>志愿内容：{actwhere}</Text>
                </View>
            </View>

        );
    }

    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();

    const order = () => {
        /**更新数据库 */
        setData({ ...data, numOfOrder: data.numOfOrder + 1 });
    }
    const scrollItem = () => {
        let dates = new Array(7).fill("");
        let date = new Date();
        const ZHOU = ['周日', '周一', '周二',
            '周三', '周四', '周五', '周六'];

        return dates.map((value, index) => {
            let month_day = new Date(date.getTime() + index * 24 * 3600 * 1000);
            return (
                <TouchableOpacity
                    style={[
                        { marginRight: 15, marginLeft: 5, justifyContent: "center", alignItems: "center" },
                        (index === choice) ? styles.chose : {}
                    ]}
                    onPress={() => setChoice(index)}
                >
                    <Text>{ZHOU[(date.getDay() + index) % 7]}</Text>
                    <Text>{`${month_day.getMonth() + 1}.${month_day.getDate()}`}</Text>
                </TouchableOpacity>
            );
        })
    }
    const renderItem = ({ item }) => (
        <Item title={item.title} acttime={item.acttime} actwhere={item.actwhere} details={item.details} />
    );

    return (

        <SafeAreaView style={styles.container}>

            <View style={styles.topView}>
                <Ionicons
                    name="chevron-back-outline"
                    size={25}
                    style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                    onPress={() => prop.navigation.navigate("Home")}
                />
                <Text style={styles.visit} onPress={() => prop.navigation.navigate('Activity')}>预约参观</Text>
                <Text style={styles.joinin} >志愿报名</Text>
            </View>

            <SafeAreaView style={{
                //position: "absolute",
                //bottom: 50,
                height: 50,
                width: "100%",
                borderWidth: 1,
                borderColor: "#BBB",
                borderTopLeftRadius: 5,
                borderTopRightRadius: 5,
                backgroundColor: "#FFF"
            }}>
                <ScrollView
                    horizontal={true}
                    showsHorizontalScrollIndicator={false}
                >
                    {scrollItem()}
                </ScrollView>
            </SafeAreaView>
            <FlatList
                data={DATA}
                renderItem={renderItem}
                keyExtractor={item => item.id}
            />
            <TouchableOpacity style={styles.cancel}>
                <Text style={{ fontSize: 20, color: '#ffffff' }}>取消报名</Text>

            </TouchableOpacity>
        </SafeAreaView>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        //justifyContent: "center",
        //alignItems: "center",
        //marginLeft: 49,
        //marginRight: 49,
        // borderWidth: 1,
        // borderColor: "black"
    },
    herder: {
        height: 45,
    },
    item: {
        backgroundColor: '#ffffff',
        padding: 20,
        marginVertical: 8,
        marginHorizontal: 16,
        flexDirection: 'row',
        flexWrap: 'wrap',
    },
    topView: {
        height: 70,
        alignItems: 'center',
        justifyContent: 'center',
        backgroundColor: '#9D98FF',
        flexDirection: 'row',
    },
    visit: {
        color: '#ffffff',
        fontSize: 21,
        //textDecorationLine: "underline",
        margin: 5
    },
    joinin: {
        color: '#ffffff',
        fontSize: 26,
        textDecorationLine: "underline",
        margin: 5,

    },
    title: {
        fontSize: 19,
        marginBottom: 10,
    },
    smalltitle: {
        fontSize: 17,
        marginBottom: 5,
        marginLeft: 10,
    },
    imagestyle: {
        width: 120,
        height: 70,
        borderRadius: 3,
        resizeMode: 'cover',
        marginRight: 10,
    },
    input: {
        width: 180,
        marginLeft: 10,
        fontSize: 16,
    },
    inputView: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 5,
        width: 260,
        height: 45,
        margin: 15,
        flexDirection: "row",
    },
    cancel: {
        backgroundColor: '#9D98FF',
        borderRadius: 10,
        height: 50,
        width: '30%',
        position: "absolute",
        right: 30,
        bottom: 30,
        alignItems: 'center',
        justifyContent: 'center'
    }

});

export default ActivitySignup;
```  
### ActivityTiming.js
```javascript
import moment from "moment";
import React, { useEffect, useState } from "react";
import {
    Text,
    StyleSheet,
    View,
    Image,
    TouchableOpacity,
    Dimensions
} from "react-native";
import GlobalInfo from "./GlobalInfo";
import Tooltip from "./Tooltip";
import UserInformation from "./UserInformation";

const { width, height } = Dimensions.get("screen");
const ActivityTiming = ({ route, navigation }) => {
    const [time, setTime] = useState({
        hours: "00",
        minutes: "00",
        seconds: "00"
    });
    const [deadline, setDeadline] = useState();
    const [hintIcon, setHintIcon] = useState("");
    const [hintText, setHintText] = useState("");

    /** 签退 */
    const signOut = async () => {
        /** 更新数据库，存入总时长 */
        var mtTime = time;
        console.log(mtTime);
        //在normalUser表中加入数据
        var hours = parseFloat(time.hours);
        var minutes = parseFloat(time.minutes);
        hours += minutes / 60;
        hours = hours.toFixed(2);
        console.log(hours);
        var userId = UserInformation.id;
        var a = 0;
        var ip = UserInformation.ip;
        await fetch(ip + 'updateTotalTimeByUserId.php?totalTime=' + hours + '&userId=' + userId);
        a = 1;
        console.log("a");
        console.log(a);
        /** 错误提示框 */
        if (a === 0) {   //a === 0改为出错条件
            setHintIcon("alert-outline");
            setHintText("签退失败");
            setTimeout(() => {
                setHintIcon("");
                setHintText("");
            }, 3000);
        }
        else if (a === 1) {   //a === 1改为出错条件
            setHintIcon("checkmark-outline");
            setHintText("签退成功");
            setTimeout(() => {
                GlobalInfo.isTiming = false;
                GlobalInfo.beginTime = "";
                setHintIcon("");
                setHintText("");
                navigation.goBack();
            }, 1000);
        }
    }

    useEffect(() => {
        const { beginTime } = route.params;

        setInterval(() => {
            let nowTime = new Date().valueOf();
            let lastTime = nowTime - beginTime;
            let leave1 = lastTime % (24 * 3600 * 1000);
            let lastHours = Math.floor(leave1 / (3600 * 1000));
            let leave2 = leave1 % (3600 * 1000);
            let lastMinutes = Math.floor(leave2 / (60 * 1000));
            let leave3 = leave2 % (60 * 1000);
            let lastSeconds = Math.round(leave3 / 1000);

            setTime({
                hours: lastHours.toString().length !== 2 ? "0" + lastHours.toString() : lastHours.toString(),
                minutes: lastMinutes.toString().length !== 2 ? "0" + lastMinutes.toString() : lastMinutes.toString(),
                seconds: lastSeconds.toString().length !== 2 ? "0" + lastSeconds.toString() : lastSeconds.toString()
            });
        }, 1000);

        /** 获取截止时间 */
        setDeadline("2023/1/1 24:00:00");

    }, []);

    return (
        <View style={styles.container}>
            <View style={styles.header}>
                <Text style={styles.title}>签到</Text>
            </View>
            <Image source={require("../data/img/circle.png")} style={[styles.circle]} />
            <Text style={styles.time}>{time.hours}:{time.minutes}:{time.seconds}</Text>
            <View>
                <Text style={{ fontSize: 18, alignSelf: "center", marginTop: 50 }}>活动截止时间</Text>
                <Text style={{ fontSize: 20, fontWeight: "bold", marginTop: 15 }}>{deadline}</Text>
            </View>
            <TouchableOpacity style={styles.btnSignout} onPress={() => signOut()}>
                <Text style={{ color: "#FFF", fontSize: 20 }}>签退</Text>
            </TouchableOpacity>
            {Tooltip(hintIcon, hintText, height)}
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
        backgroundColor: "#FFF"
    },
    header: {
        backgroundColor: "#9D98FF",
        width: "100%",
        height: 70,
    },
    title: {
        fontSize: 25,
        height: 70,
        color: "#FFF",
        alignSelf: "center",
        textAlignVertical: "center"
    },
    circle: {
        height: 200,
        width: 200,
        marginTop: 70
    },
    time: {
        fontSize: 28,
        fontWeight: "bold",
        position: "absolute",
        top: 228,
    },
    btnSignout: {
        backgroundColor: "#9D98FF",
        width: 150,
        padding: 10,
        borderRadius: 10,
        alignItems: "center",
        marginTop: 100
    }
});

export default ActivityTiming;
```  
### App.js
```javascript
import React from "react";
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import Launch from './Launch';
import Login from './Login';
import Register from './Register';
import Main from "./Main";
import SignInputCode from './SignInputCode';
import ContentIntro from "./ContentIntro";
import ContentService from "./ContentService";

import Infomation from "./Information";
import ActivitySignup from "./ActivitySignup";
import Activity from "./Activity";
import Publish from "./Publish";
import HelpCenter from "./HelpCenter";
import CompletedAct from "./CompletedAct";

import { useState, useEffect } from "react";
import Search from './Search';
import ActivityTiming from "./ActivityTiming";
import Chat from "./chat";
import Geo from "./Geo";
import UserInformation from "./UserInformation";
const Stack = createNativeStackNavigator();

const App = () => {



  // 司晨旭编写开始
  /**
  * 获取地址
   */
  getGeo = async () => {
    let data = await Geo.getCityByLocation();
    // console.log("data" + JSON.stringify(data));   //数据都在这
    // console.log(typeof data);
    // console.log(data.regeocode.formatted_address);
    UserInformation.userAddressNow = data.regeocode.formatted_address;
    // console.log("获取到的信息( •̀ ω •́ )y" + UserInformation.userAddressNow);
  }

  // useEffect(() => {
  //   setInterval("getGeo()", "5000");
  // }, []);

  //设置每过几秒获取一次
  useEffect(() => {
    const interval = setInterval(getGeo, 5000); // 每隔5分钟執行 loadData 這個 function,后来还是改成了5s

    return () => clearInterval(interval);
  }, []);



  //司晨旭编写结束

  return (
    <NavigationContainer>
      <Stack.Navigator>
        <Stack.Screen name="Launch" component={Launch} options={{ headerShown: false }} />
        <Stack.Screen name="Login" component={Login} options={{ headerShown: false }} />
        <Stack.Screen name="Register" component={Register} options={{ headerShown: false }} />
        <Stack.Screen name="Main" component={Main} options={{ headerShown: false }} />
        <Stack.Screen name="SignInputCode" component={SignInputCode} options={{ headerShown: false }} />
        <Stack.Screen name="ActivityTiming" component={ActivityTiming} options={{ headerShown: false }} />
        <Stack.Screen name="ContentIntro" component={ContentIntro} options={{ headerShown: false }} />
        <Stack.Screen name="ContentService" component={ContentService} options={{ headerShown: false }} />


        {/* 吴佳丽第二次新增 */}
        <Stack.Screen name="Search" component={Search} options={{ headerShown: false }} />
        <Stack.Screen name="Chat" component={Chat} options={{ headerShown: false }} />
        {/* 吴卓霖 新增 */}
        <Stack.Screen name="Infomation" component={Infomation} options={{ headerShown: false }} />
        <Stack.Screen name="ActivitySignup" component={ActivitySignup} options={{ headerShown: false }} />
        <Stack.Screen name="Activity" component={Activity} options={{ headerShown: false }} />
        <Stack.Screen name="Publish" component={Publish} options={{ headerShown: false }} />
        <Stack.Screen name="HelpCenter" component={HelpCenter} options={{ headerShown: false }} />
        <Stack.Screen name="CompletedAct" component={CompletedAct} options={{ headerShown: false }} />

      </Stack.Navigator>
    </NavigationContainer>
  );
}

export default App;
```  
### chat.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Image,
    TouchableOpacity,
    FlatList,
    TextInput
} from "react-native";
import GlobalInfo from "./GlobalInfo";
import UserInformation from "./UserInformation";
import moment from "moment";
const Chat = ({ route, navigation }) => {
    const [data, setData] = useState();
    const [nowMsg, setNowMsg] = useState("");
    // const { name } = route.params;
    const { orgId } = route.params;
    const renderItem = (dataItem) => {
        if (dataItem.item.meId === UserInformation.id)
            return (
                <View style={[styles.item, { justifyContent: "flex-end" }]}>
                    <View>
                        <View style={[styles.textView, { alignSelf: "flex-end" }]}>
                            <Text style={styles.text}>{dataItem.item.message}</Text>
                        </View>
                        <Text style={styles.time}>{dataItem.item.time}</Text>
                    </View>
                    <Image source={{ uri: dataItem.item.head }} style={styles.head} />
                </View>
            );
        else
            return (
                <View style={styles.item}>
                    <Image source={{ uri: dataItem.item.head }} style={styles.head} />
                    <View>
                        <View style={[styles.textView, { alignSelf: "flex-start" }]}>
                            <Text style={styles.text}>{dataItem.item.message}</Text>
                        </View>
                        <Text style={styles.time}>{dataItem.item.time}</Text>
                    </View>
                </View>
            );
    }

    const renderSeparator = () => {
        return (<View style={{ height: 20 }} />);
    }

    /** 将消息存入数据库 */
    const send = async () => {
        var ip = UserInformation.ip;
        var userId = UserInformation.id;
        var otherUserId = orgId;
        var message = nowMsg;
        var time = moment().format('YYYY-MM-DD HH:mm:ss');

        await fetch(ip + 'addMsg.php?meId=' + userId + '&youId=' + otherUserId + '&msg=' + message + '&time=' + time)
            .then(res => res.json())
            .then(resJson => {
                // console.log("发生什么事了");
            }).catch(e => console.log(e));
    }


    const fetchData = async () => {
        console.log("进入fetchData");
        var msgJsonAll;
        var ip = UserInformation.ip;

        var newData = [];
        var userId = UserInformation.id;
        var otherUserId = orgId;
        console.log("更新数据之前");
        await fetch(ip + 'updateMsgIsRead.php?meId=' + userId + '&youId=' + otherUserId);

        console.log("更新数据之后");

        await fetch(ip + 'selectMsgByMeIdAndYouId.php?userId=' + userId + '&otherId=' + otherUserId)
            .then(res => res.json())
            .then(resJson => {
                msgJsonAll = resJson;
            }).catch(e => console.log(e));


        for (var i = 0; i < msgJsonAll.length; i++) {
            var tempObj = {};
            // var msgId = msgJsonAll[i].msgId;
            var meId = msgJsonAll[i].meId;
            var youId = msgJsonAll[i].youId;
            //根据这些来进行姓名的查询
            var meName;
            var youName;
            var imgSource;
            await fetch(ip + 'selectUserByUserId.php?id=' + meId)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        meName = resJson[0].name
                        // imgSource = resJson[0].imgSource;
                        imgSource = "http://101.34.44.163:8080/boqingxiu/img/organization1.png";
                    }
                }).catch(e => console.log(e));
            await fetch(ip + 'selectUserByUserId.php?id=' + youId)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        youName = resJson[0].name;
                    }
                }).catch(e => console.log(e));

            var message = msgJsonAll[i].msg;
            var time = msgJsonAll[i].msgTime;
            tempObj = { me: meName, you: youName, head: imgSource, message: message, time: time, meId: meId }
            // console.log(tempObj);
            newData.push(tempObj);
        }
        setData([...newData]);
    }
    useEffect(() => {
        // console.log("使用useEffect");
        // fetchData();
        const interval = setInterval(fetchData, 5000); // 每隔5分钟執行 loadData 這個 function

        return () => clearInterval(interval);
    }, []);

    return (
        <View style={styles.container}>
            <ImageBackground source={require("../data/img/content_1.png")} style={{ width: "100%", height: 80 }}>
                <View style={styles.header}>
                    <Ionicons
                        name="chevron-back-outline"
                        size={25}
                        style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                        onPress={() => navigation.goBack()}
                    />
                    <Text style={{
                        fontSize: 19,
                        color: "#FFF"
                    }}>
                        {orgId}
                    </Text>
                </View>
            </ImageBackground>
            <View style={{ marginTop: 20 }}>
                <SafeAreaView style={{ height: "80%" }}>
                    <FlatList
                        data={data}
                        renderItem={renderItem}
                        ItemSeparatorComponent={renderSeparator}
                    />
                </SafeAreaView>
            </View>
            <View style={styles.inputView}>
                <TextInput
                    value={nowMsg}
                    placeholder="请输入聊天内容..."
                    onChangeText={text => setNowMsg(text)}
                    style={styles.input}
                />
                <TouchableOpacity style={styles.sendView} onPress={() => send()}>
                    <Text style={styles.send}>发送</Text>
                </TouchableOpacity>
            </View>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1
    },
    header: {
        width: "100%",
        height: 50,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center"
    },
    item: {
        flexDirection: "row"
    },
    head: {
        width: 50,
        height: 50,
        borderRadius: 50,
        borderColor: "#000",
        borderWidth: 1,
        marginHorizontal: 10
    },
    textView: {
        backgroundColor: "rgba(175, 191, 234, 0.63)",
        borderRadius: 7,
        padding: 10,
        marginVertical: 4,
        maxWidth: "90%"
    },
    text: {
        fontSize: 18
    },
    time: {
        color: "#BCBABA"
    },
    inputView: {
        backgroundColor: "rgba(175, 191, 234, 0.63)",
        position: "absolute",
        bottom: 0,
        width: "100%",
        alignItems: "center",
        justifyContent: "center",
        flexDirection: "row"
    },
    input: {
        backgroundColor: "#FFF",
        width: "70%",
        height: "70%",
        borderRadius: 10
    },
    sendView: {
        marginLeft: 10,
        backgroundColor: "#FFF",
        padding: 10,
        borderRadius: 10,
        elevation: 2
    },
    send: {
        fontSize: 15
    }
});

export default Chat;
```
### CompletedAct.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Image,
    TouchableOpacity,
    FlatList
} from "react-native";

const CompletedAct = ({ route, navigation }) => {
    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();

    const order = () => {
        /**更新数据库 */
        setData({ ...data, numOfOrder: data.numOfOrder + 1 });
    }
    //模拟数据
    const DATA = [
        {
            id: '18',
            title: '杭州融设计图书馆',
            acttime: '2022-11-07',
            actwhat: '图书管理志愿者',
            actwhere: '浙江省杭州市余杭区黄湖镇青山村东坞礼堂',
        },
        {
            id: '19',
            title: '杭州智慧谷服务中心',
            acttime: '2022-11-10',
            actwhat: '科技讲解服务',
            actwhere: '浙江省杭州市拱墅区湖州街16号',
        },
        {
            id: '20',
            title: '上城村文化礼堂开放日',
            acttime: '2022-11-10',
            actwhat: '秩序维护志愿者',
            actwhere: '浙江省杭州市余西湖区上城村道故山生活美学西南侧约170米',
        },
    ];
    const Item = ({ title, acttime, actwhat, actwhere }) => {
        const [agree, setAgree] = useState(false);
        //const url=~~DATA.imageFound
        return (
            <View style={styles.item} >
                <View style={{ flex: 1 }}>
                    <View style={{ flexDirection: 'row' }}>
                        <Text style={styles.actName}>{title}</Text>
                    </View>

                    <Text style={styles.smalltitle}>时间：{acttime}</Text>
                    <Text style={styles.smalltitle}>活动内容：{actwhat}</Text>
                    <View style={{ flexDirection: 'row', marginLeft: 18 }}>
                        <Image source={require('../data/img/home_3.png')} style={{ height: 16, width: 16 }} />
                        <Text style={{ fontSize: 15 }}>{actwhere}</Text>
                    </View>

                </View>
            </View>

        );
    }
    const renderItem = ({ item }) => (
        <Item title={item.title} acttime={item.acttime} actwhat={item.actwhat} actwhere={item.actwhere} />
    );

    return (
        <SafeAreaView>
            <View style={styles.header}>
                <Ionicons
                    name="chevron-back-outline"
                    size={25}
                    style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                    onPress={() => navigation.navigate("Mine")}
                />
                <Text style={styles.title}>已签到活动</Text>

            </View>
            <FlatList
                data={DATA}
                renderItem={renderItem}
                keyExtractor={item => item.id}
            />



        </SafeAreaView>


    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
    },
    header: {
        width: "100%",
        height: 70,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center",
        backgroundColor: "#9D98FF"
    },
    title: {
        fontSize: 25,
        color: '#ffffff'
    },
    actName: {
        fontSize: 20,
    },
    commonTxt: {
        fontSize: 18,
    },
    item: {
        backgroundColor: '#ffffff',
        padding: 10,
        marginVertical: 8,
        marginHorizontal: 16,
        flexDirection: 'row',
        flexWrap: 'wrap',
    },
    smalltitle: {
        fontSize: 15,
        marginLeft: 18
    }

});

export default CompletedAct;
```  
### ContentIntro.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Image,
    TouchableOpacity
} from "react-native";
import UserInformation from "./UserInformation";

const ContentIntro = ({ route, navigation }) => {
    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();
    const [appointment, setAppointment] = useState();
    const { orgId } = route.params;
    const ZHOU = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];

    const order = () => {
        /**更新数据库 */
        setData({ ...data, numOfOrder: data.numOfOrder + 1 });
    }

    const scrollItem = () => {
        let dates = new Array(7).fill("");
        let date = new Date();

        return dates.map((value, index) => {
            let month_day = new Date(date.getTime() + index * 24 * 3600 * 1000);
            return (
                <TouchableOpacity
                    style={[
                        { marginRight: 15, marginLeft: 5, justifyContent: "center", alignItems: "center" },
                        (index === choice) ? styles.chose : {}
                    ]}
                    onPress={() => setChoice(index)}
                >
                    <Text>{ZHOU[(date.getDay() + index) % 7]}</Text>
                    <Text>{`${month_day.getMonth() + 1}-${month_day.getDate()}`}</Text>
                </TouchableOpacity>
            );
        })
    }

    useEffect(() => {
        console.log(UserInformation.ip + 'selectOrgById.php?orgId=' + orgId)
        fetch(UserInformation.ip + 'selectOrgById.php?orgId=' + orgId)
            .then(res => res.json())
            .then(resJson => {
                // console.log(resJson);
                if (resJson.length !== 0) {
                    setData(resJson[0])
                }
            }).catch(e => console.log(e));

        console.log(UserInformation.ip + 'selectAppointById.php?orgId=' + orgId)
        fetch(UserInformation.ip + 'selectAppointById.php?orgId=' + orgId)
            .then(res => res.json())
            .then(resJson => {
                // console.log(resJson);
                if (resJson.length !== 0) {
                    let date = new Date();
                    let zhou = ZHOU[(date.getDay()) % 7];
                    let day = `${date.getMonth() + 1}-${date.getDate()}`;
                    var dateOrder = [];
                    var orderIndex = 0;
                    var indexBegin = -1;

                    resJson.map((value, index) => {
                        if (resJson[index].timeName === (zhou + day)) {
                            indexBegin = index;
                            dateOrder[orderIndex++] = value;
                        }
                        if (indexBegin !== -1 && orderIndex < 7) {
                            dateOrder[orderIndex++] = value
                        }
                    });

                    while (orderIndex < 7) {
                        dateOrder[orderIndex++] = {
                            totalPlaces: 0,
                            occupyPlaces: 0
                        };
                    }

                    setAppointment(dateOrder);
                }
            }).catch(e => console.log(e));
    }, []);

    // console.log(appointment)
    if (data !== undefined && appointment != undefined)
        return (
            <View style={styles.container}>
                <ImageBackground source={require("../data/img/content_1.png")} style={{ width: "100%", height: 80 }}>
                    <View style={styles.header}>
                        <Ionicons
                            name="chevron-back-outline"
                            size={25}
                            style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                            onPress={() => navigation.navigate("Home")}
                        />
                        <Text style={{
                            fontSize: 19,
                            color: "#FFF",
                            marginRight: 10,
                            textDecorationLine: "underline"
                        }}>
                            介绍
                        </Text>
                        <Text
                            style={{
                                fontSize: 17,
                                color: "rgba(240, 240, 253, 0.66)",
                            }}
                            onPress={() => navigation.navigate("ContentService", {
                                orgId: orgId
                            })}
                        >
                            志愿服务
                        </Text>
                        <Ionicons
                            name="chatbubbles-outline"
                            size={25}
                            style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", right: 10 }}
                            onPress={() => navigation.navigate("Chat", {
                                name: data.name
                            })}
                        />
                    </View>
                </ImageBackground>
                <View style={{ marginHorizontal: "5%", width: "90%" }}>
                    <Text style={{ fontSize: 20, color: "#000", marginVertical: 10, alignSelf: "center" }}>{data.orgName}</Text>
                    <SafeAreaView style={{ width: "100%", height: 508 }}>
                        <ScrollView showsVerticalScrollIndicator={false}>
                            <Image source={{ uri: data.orgImg }} style={{ width: "100%", height: 180, borderRadius: 10 }} />
                            <View style={{
                                marginTop: 15,
                                borderWidth: 1,
                                backgroundColor: "#F0F0FD",
                                borderColor: "#BBB",
                                borderRadius: 10,
                                padding: 8
                            }}>
                                <View style={{ flexDirection: "row" }}>
                                    <Text style={styles.text}>营业时间：</Text>
                                    <Text style={styles.text}>{data.time}</Text>
                                </View>
                                <View style={{ flexDirection: "row", marginVertical: 5 }}>
                                    <Text style={styles.text}>地址：</Text>
                                    <Text style={styles.text}>{data.address}</Text>
                                    <Ionicons
                                        name="location-outline"
                                        size={17}
                                        color="#000"
                                        style={{ marginLeft: 5, marginTop: -2 }}
                                    />
                                </View>
                                <View style={{ flexDirection: "row" }}>
                                    <Text style={styles.text}>电话：</Text>
                                    <Text style={styles.text}>{data.orgPhone}</Text>
                                </View>
                            </View>
                            <View style={{ marginTop: 20, marginLeft: 5 }}>
                                <View style={{ flexDirection: "row", marginBottom: 10 }}>
                                    <Text style={[styles.text, { marginRight: 5 }]}>简介</Text>
                                    <View
                                        style={{ borderBottomWidth: 1, borderBottomColor: "#BBB", width: "85%", marginBottom: 7 }}>
                                    </View>
                                </View>
                                <Text style={styles.contents}>{data.introduction}</Text>
                            </View>
                            <View style={{ marginTop: 10, marginLeft: 5 }}>
                                <View style={{ flexDirection: "row", marginBottom: 10 }}>
                                    <View
                                        style={{ borderBottomWidth: 1, borderBottomColor: "#BBB", width: "85%", marginBottom: 7 }}>
                                    </View>
                                    <Text style={[styles.text, { marginLeft: 5 }]}>特色</Text>
                                </View>
                                <Text style={styles.contents}>{data.feature}</Text>
                            </View>
                        </ScrollView>
                    </SafeAreaView>
                </View>

                <SafeAreaView style={{
                    position: "absolute",
                    bottom: 50,
                    height: 50,
                    width: "100%",
                    borderWidth: 1,
                    borderColor: "#BBB",
                    borderTopLeftRadius: 5,
                    borderTopRightRadius: 5,
                    backgroundColor: "#FFF"
                }}>
                    <ScrollView
                        horizontal={true}
                        showsHorizontalScrollIndicator={false}
                    >
                        {scrollItem()}
                    </ScrollView>
                </SafeAreaView>
                <View style={{
                    position: "absolute",
                    bottom: 0,
                    height: 50,
                    width: "100%",
                    backgroundColor: "#7B9DF6",
                    borderBottomLeftRadius: 5,
                    borderBottomRightRadius: 5,
                    flexDirection: "row",
                    alignItems: "center"
                }}>
                    <Text style={{ color: "#FFF", marginLeft: 10, fontSize: 16 }}>
                        预约人数：
                        <Text style={{ color: "#E2D664" }}>{appointment[choice].totalPlaces}</Text>
                        {`/${appointment[choice].occupyPlaces}`}
                    </Text>
                    <TouchableOpacity
                        style={{
                            backgroundColor: "#CBD2F6",
                            borderRadius: 20,
                            height: "70%",
                            width: 65,
                            justifyContent: "center",
                            alignItems: "center",
                            elevation: 2,
                            position: "absolute",
                            right: 20
                        }}
                        onPress={() => order()}
                    >
                        <Text style={{ color: "#000", fontSize: 15 }}>预约</Text>
                    </TouchableOpacity>
                </View>
            </View>
        );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
    },
    header: {
        width: "100%",
        height: 50,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center"
    },
    text: {
        fontSize: 16,
        color: "#000"
    },
    contents: {
        color: "#000",
        lineHeight: 20
    },
    chose: {
        backgroundColor: "#7B9DF6",
        borderRadius: 5,
        padding: 10
    }
});

export default ContentIntro;
```  
### ContentService.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Image,
    TouchableOpacity,
    TextInput,
    FlatList
} from "react-native";
import moment from "moment/moment";
import UserInformation from "./UserInformation";

const ContentService = ({ route, navigation }) => {
    const [searchContent, setSearchContent] = useState("");
    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();
    const [displayData, setDisplayData] = useState([]);
    const { orgId } = route.params;

    const search = async () => {
        await fetch(UserInformation.ip + 'searchVolunteer.php?orgId=' + orgId + '&info=' + searchContent)
            .then(res => res.json())
            .then(resJson => {
                resJson = resJson.map((value) => {
                    return ({
                        ...value,
                        color: "#FFF"
                    });
                });

                setChoice(0);
                setData(resJson);
                setDisplayData(resJson);
            })

    }

    const apply = () => {
        /**报名,更新数据库 */
    }

    const chooseService = (item) => {
        let newItem, newDisplayData;
        if (item.color === "#FFF") {
            newItem = { ...item };
            newItem.color = "#B6C3DE";
            newDisplayData = [...displayData];
            newDisplayData = newDisplayData.map((value) => {
                if (value.recruitId === item.recruitId)
                    return newItem;
                else return value;
            });
            setDisplayData([...newDisplayData]);
        }
        else {
            newItem = { ...item };
            newItem.color = "#FFF";
            newDisplayData = [...displayData];
            newDisplayData = newDisplayData.map((value) => {
                if (value.recruitId === item.recruitId)
                    return newItem;
                else return value;
            });
            setDisplayData([...newDisplayData]);
        }
    }

    const displayService = (index, year, month, day) => {
        setChoice(index);

        if (index === 0) setDisplayData([...data]);
        else {
            let chooseDate = year + "-" + month + "-" + day;
            let newDisplay = [];
            let displayIndex = 0;

            data.map((value) => {
                if ((value.serveTime.split(" "))[0] === chooseDate) {
                    newDisplay[displayIndex++] = { ...value }
                }
            });

            setDisplayData([...newDisplay]);
        }
    }

    const scrollItem = () => {
        let dates = new Array(8).fill("");
        let date = new Date();
        const ZHOU = ['周日', '周一', '周二',
            '周三', '周四', '周五', '周六'];

        return dates.map((value, index) => {
            let month_day = new Date(date.getTime() + index * 24 * 3600 * 1000);
            if (index === 0)
                return (
                    <TouchableOpacity
                        style={[
                            { marginRight: 15, marginLeft: 5, justifyContent: "center", alignItems: "center" },
                            (index === choice) ? styles.chose : {}
                        ]}
                        onPress={() => displayService(index)}
                    >
                        <Text>全部</Text>
                    </TouchableOpacity>
                );
            else
                return (
                    <TouchableOpacity
                        style={[
                            { marginRight: 15, marginLeft: 5, justifyContent: "center", alignItems: "center" },
                            (index === choice) ? styles.chose : {}
                        ]}
                        onPress={() => displayService(index, month_day.getFullYear(), month_day.getMonth() + 1, month_day.getDate())}
                    >
                        <Text>{ZHOU[(date.getDay() + index - 1) % 7]}</Text>
                        <Text>{`${month_day.getMonth() + 1}-${month_day.getDate()}`}</Text>
                    </TouchableOpacity>
                );
        })
    }

    const renderItem = (dataItem) => {
        return (
            <TouchableOpacity style={[styles.itemsView, { backgroundColor: dataItem.item.color }]}
                onPress={() => chooseService(dataItem.item)}
            >
                <View style={styles.itemView}>
                    <View style={{ flexDirection: "row" }}>
                        <Text style={{ fontSize: 15 }}>时间：</Text>
                        <Text style={{ fontSize: 15, color: "#7080D0" }}>
                            {dataItem.item.serveTime}
                        </Text>
                    </View>
                    <View style={{ flexDirection: "row", marginVertical: 10 }}>
                        <Text style={{ fontSize: 15 }}>地点：</Text>
                        <Text style={{ fontSize: 15, color: "#7080D0", flex: 1, lineHeight: 20 }}>
                            {dataItem.item.serveAddress}
                        </Text>
                    </View>
                    <View style={{ flexDirection: "row" }}>
                        <Text style={{ fontSize: 15 }}>志愿内容：</Text>
                        <Text style={{ fontSize: 15, color: "#7080D0" }}>
                            {dataItem.item.serveContent}
                        </Text>
                    </View>
                </View>
            </TouchableOpacity>
        );
    }

    useEffect(() => {
        var curTime = moment().format('YYYY-MM-DD HH:mm:ss');

        fetch(UserInformation.ip + 'selectBoardByOrg.php?orgId=' + orgId + '&curTime=' + curTime)
            .then(res => res.json())
            .then(resJson => {
                resJson = resJson.map((value) => {
                    return ({
                        ...value,
                        color: "#FFF"
                    });
                });

                setData(resJson);
                setDisplayData(resJson);
            })
    }, []);

    return (
        <View style={styles.container}>
            <ImageBackground source={require("../data/img/content_1.png")} style={{ width: "100%", height: 80 }}>
                <View style={styles.header}>
                    <Ionicons
                        name="chevron-back-outline"
                        size={25}
                        style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                        onPress={() => navigation.navigate("Home")}
                    />
                    <Text
                        style={{
                            fontSize: 17,
                            color: "rgba(240, 240, 253, 0.66)",
                            marginRight: 10,
                        }}
                        onPress={() => navigation.navigate("ContentIntro", {
                            orgId: orgId
                        })}
                    >
                        介绍
                    </Text>
                    <Text style={{
                        fontSize: 19,
                        color: "#FFF",
                        textDecorationLine: "underline"
                    }}>
                        志愿服务
                    </Text>
                </View>
            </ImageBackground>
            <View style={{ width: "100%", alignItems: "center" }}>
                <View style={styles.searchView}>
                    <TextInput
                        value={searchContent}
                        placeholder="请输入志愿服务信息"
                        onChangeText={text => setSearchContent(text)}
                        style={{ width: 180, marginLeft: 10, fontSize: 15 }}
                    />
                    <TouchableOpacity style={styles.btnSearch} onPress={() => search()}>
                        <Text style={{ color: "#FFF", fontSize: 15 }}>搜索</Text>
                    </TouchableOpacity>
                </View>
                <SafeAreaView style={styles.scroll}>
                    <ScrollView
                        horizontal={true}
                        showsHorizontalScrollIndicator={false}
                    >
                        {scrollItem()}
                    </ScrollView>
                </SafeAreaView>
                <SafeAreaView style={{ width: "100%", marginTop: 10 }}>
                    <FlatList
                        data={displayData}
                        renderItem={renderItem}
                        ItemSeparatorComponent={<View style={{ height: 6 }} />}
                        keyExtractor={dataItem => dataItem.recruitId}
                    />
                </SafeAreaView>
            </View>
            <TouchableOpacity
                style={styles.btnApply}
                onPress={() => apply()}
            >
                <Text style={{ color: "#FFF", fontSize: 19 }}>报名</Text>
            </TouchableOpacity>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
    },
    header: {
        width: "100%",
        height: 50,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center"
    },
    searchView: {
        borderWidth: 1,
        borderColor: "#7B9DF6",
        borderRadius: 30,
        height: 37,
        width: "75%",
        marginTop: 20,
        justifyContent: "center",
        backgroundColor: "#FFF",
        elevation: 2,
    },
    btnSearch: {
        backgroundColor: "#7B9DF6",
        borderRadius: 20,
        height: "90%",
        width: 60,
        justifyContent: "center",
        alignItems: "center",
        position: "absolute",
        right: 2
    },
    scroll: {
        height: 50,
        width: "100%",
        borderWidth: 1,
        borderColor: "#BBB",
        borderTopLeftRadius: 5,
        borderTopRightRadius: 5,
        backgroundColor: "#FFF",
        marginTop: 10
    },
    itemsView: {
        width: "100%",
        flexDirection: "row",
        width: "90%",
        alignSelf: "center",
        borderRadius: 10
    },
    itemView: {
        width: "100%",
        borderWidth: 1,
        borderColor: "#AEAEB0",
        padding: 2,
        borderRadius: 10,
        padding: 10,
    },
    btnApply: {
        backgroundColor: "#7B9DF6",
        borderRadius: 30,
        height: 40,
        width: 150,
        justifyContent: "center",
        alignItems: "center",
        elevation: 2,
        position: "absolute",
        bottom: 10
    },
    chose: {
        backgroundColor: "#7B9DF6",
        borderRadius: 5,
        padding: 10
    }
});

export default ContentService;
```  
### Geo.js  
```javascript
import { PermissionsAndroid, Platform } from 'react-native';
import { init, Geolocation } from "react-native-amap-geolocation"
import axios from "axios";

class Geo {
    async initGeo() {
        if (Platform.OS === "android") {
            const grantd = await PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION);

            //这里也可以再加点判断啥的给用户提示，grantd 值为 granted 时，是获取成功。
            // console.log("权限获取的咋样了？？？",grantd)
        }

        //初始化高德地图
        await init({
            //来自高德地图中的 安卓 应用的Key
            ios: "31008d413461cc712065baeaa7ed4a0c",
            android: "31008d413461cc712065baeaa7ed4a0c"
        });

        return Promise.resolve();
    }

    async getCurrentPosition() {
        return new Promise((resolve, reject) => {
            Geolocation.getCurrentPosition(({ coords }) => {
                // console.log(coords)
                resolve(coords);
            }, reject)
        })
    }

    async getCityByLocation() {
        await this.initGeo()

        const { longitude, latitude } = await this.getCurrentPosition()
        const res = await axios.get("https://restapi.amap.com/v3/geocode/regeo", {
            //这里的key是高德地图的 web 的Key
            params: { location: `${longitude}, ${latitude}`, key: "bdb24f2eec679a8049eee92c289dfa9a" }
        })

        return Promise.resolve(res.data);
    }
}

// 这里是new一个对象导出使用，要注意。
export default new Geo();
```   
### GlobalInfo.js
```javascript
const isTiming = false;
const beginTime = "";
const user = "小w";

export default { isTiming, beginTime, user };
```  
### HelpCenter.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Image,
    TouchableOpacity,
    FlatList
} from "react-native";

const HelpCenter = ({ route, navigation }) => {
    return (
        <SafeAreaView>
            <View style={styles.header}>
                <Ionicons
                    name="chevron-back-outline"
                    size={25}
                    style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                    onPress={() => navigation.navigate("Mine")}
                />
                <Text style={styles.title}>帮助中心</Text>

            </View>
            <ScrollView >
                <Text style={styles.commonTxt}>   1.完成登录后，进入软件界面</Text>
                <Image source={require('../data/img/首页内容1.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Text style={styles.commonTxt}>   首页为一些博物馆发布的宣传信息，点击首页里的每一个小模块都可以查看详细信息。</Text>
                <Text style={styles.commonTxt}>   2.点击其中的一个小模块进行查看</Text>
                <Image source={require('../data/img/模块内容.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Image source={require('../data/img/模块内容2.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Text style={styles.commonTxt}>   点进去某一个博物馆模块后的界面，里面有详细的内容信息，左图下面可以选择不同日期来查看预约人数，点击左图上面的志愿服务，可以进入到该界面查看，本志愿地点里相关的志愿服务信息时间段。</Text>

                <Text style={styles.commonTxt}>   3.对话模块</Text>
                <Image source={require('../data/img/消息模块1.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Image source={require('../data/img/消息模块2.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Text style={styles.commonTxt}>   通过底部导航栏，选择消息，可以进入到对话模块，左图为当前的消息列表，右上角的小刷子为一键处理未读功能，点进去一个消息对话框之后，就可以进入右图的部分。在下面的消息框中输入消息，然后点击回车即可发送。</Text>

                <Text style={styles.commonTxt}>   4.志愿签到模块</Text>
                <Image source={require('../data/img/签到1.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Image source={require('../data/img/签到2.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Text style={styles.commonTxt}>   点击下册导航栏，首先进入左图第一张的界面，阅读协议之后并阅读，点击我要签到之后，在上方输入签到码，若在指定的时间和地理范围内，则完成签到，进入图三的状态。</Text>

                <Text style={styles.commonTxt}>   5.活动模块</Text>
                <Image source={require('../data/img/活动1.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Text style={styles.commonTxt}>   点击下侧导航栏，选择活动，点开后即可查看当前已经预约的活动，然后也可以选择不需要的活动进行取消预约。上侧一栏为时间，可以查看某个日期的预约活动。</Text>

                <Text style={styles.commonTxt}>   6.我的模块</Text>
                <Image source={require('../data/img/我的1.png')}
                    style={{ alignSelf: 'center', height: 660, width: 300 }} />
                <Text style={styles.commonTxt}>   头像下方显示的是活动时间，然后也可以查看一些加入的活动和已经签到的活动，还可以查看其他的个人信息。</Text>

                <View style={{ height: 180 }}></View>
            </ScrollView>



        </SafeAreaView>


    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
    },
    header: {
        width: "100%",
        height: 70,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center",
        backgroundColor: "#9D98FF"
    },
    title: {
        fontSize: 25,
        color: '#ffffff'
    },
    commonTxt: {
        fontSize: 18,
    }

});

export default HelpCenter;
```  
### Home.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    TouchableOpacity,
    TouchableNativeFeedback,
    Image,
    SafeAreaView,
    FlatList
} from "react-native";
import UserInformation from "./UserInformation";
import Geo from "./Geo";

//左上角的定位没做，address获取定位
//下方组织仅为测试页面数据，要改的，连接数据库

const Home = (prop) => {
    const [address, setAddress] = useState("定位");
    const [data, setData] = useState();

    const renderItem = (dataItem) => {
        return (
            <View style={{ flexDirection: "row", width: "100%", justifyContent: "space-between" }}>
                <TouchableOpacity style={{ width: "97%" }}
                    onPress={() => prop.navigation.navigate('ContentIntro', {
                        orgId: dataItem.item.orgId
                    })}
                >
                    <View style={styles.itemView}>
                        <Image source={{ uri: dataItem.item.orgImg }} style={styles.head} />
                        <Text numberOfLines={1} style={{ fontSize: 14, marginTop: 5, color: "#000" }}>
                            {dataItem.item.orgName}
                        </Text>
                        <Text
                            numberOfLines={1}
                            style={{ marginTop: 5, fontSize: 11, alignSelf: "flex-start", marginLeft: 8 }}
                        >
                            {dataItem.item.time}
                        </Text>
                        <Text
                            numberOfLines={1}
                            style={{ marginVertical: 3, fontSize: 11, alignSelf: "flex-start", marginLeft: 8 }}
                        >
                            {dataItem.item.address}
                        </Text>
                    </View>
                </TouchableOpacity>
            </View>
        );
    }

    let arrow = " >";

    useEffect(() => {
        fetch(UserInformation.ip + 'selectOrgAll.php')
            .then(res => res.json())
            .then(resJson => {
                // console.log(resJson);
                if (resJson.length !== 0) {
                    setData(resJson)
                }
            }).catch(e => console.log(e));

        Geo.getCityByLocation().then(data => {
            setAddress(data.regeocode.addressComponent.city);
        });
    }, []);

    if (data !== undefined)
        return (
            <View style={styles.container}>
                <View style={styles.header}>
                    <TouchableNativeFeedback>
                        <Text style={{ fontSize: 19, position: "absolute", left: 0 }}>{address}</Text>
                    </TouchableNativeFeedback>
                    <Text style={{ fontSize: 24, color: "#7728F5" }}>首页</Text>
                    <Ionicons
                        name="search-outline"
                        size={25}
                        style={{ position: "absolute", right: 0 }}
                        onPress={() => prop.navigation.navigate("Search")}
                    />
                </View>
                <TouchableOpacity style={{ width: "100%", marginBottom: 15 }}>
                    <View style={styles.noteView}>
                        <Text style={{ fontSize: 12, color: "#8268FF" }}>
                            <Text style={{ fontSize: 8, color: "#9F92FF" }}>● </Text>
                            关于“博青秀”平台服务活动界定和管理规则的通知
                            <Text style={{ fontSize: 9, color: "#8268FF" }}>{arrow} </Text>
                        </Text>
                    </View>
                </TouchableOpacity>
                <View style={{ flexDirection: "row", flex: 1 }}>
                    <SafeAreaView style={{ width: "50%", marginTop: 10 }}>
                        <FlatList
                            data={data.slice(0, data.length / 2 + 1)}
                            renderItem={renderItem}
                            ItemSeparatorComponent={<View style={{ height: 6 }} />}
                            showsVerticalScrollIndicator={false}
                        />
                    </SafeAreaView>
                    <SafeAreaView style={{ width: "50%", marginTop: 10 }}>
                        <FlatList
                            data={data.slice(data.length / 2 + 1, data.length)}
                            renderItem={renderItem}
                            ItemSeparatorComponent={<View style={{ height: 6 }} />}
                            showsVerticalScrollIndicator={false}
                        />
                    </SafeAreaView>
                </View>
            </View>
        );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
        marginHorizontal: 15
    },
    header: {
        width: "100%",
        height: 50,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center",
        borderBottomColor: "#AEAEB0",
        borderBottomWidth: 1,
        marginBottom: 10
    },
    noteView: {
        marginTop: 10,
        backgroundColor: "#DBE7FF",
        padding: 10,
        width: "100%"
    },
    itemView: {
        width: "100%",
        borderWidth: 1,
        borderColor: "#AEAEB0",
        padding: 2,
        borderRadius: 4,
        alignItems: "center"
    },
    head: {
        width: "100%",
        height: 100,
        borderRadius: 4,
    },
});

export default Home;
```  
### Information.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Image,
    TouchableOpacity,
    FlatList,
    TextInput
} from "react-native";

const Infomation = ({ route, navigation }) => {
    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();

    const order = () => {
        /**更新数据库 */
        setData({ ...data, numOfOrder: data.numOfOrder + 1 });
    }


    useEffect(() => {
        /**获取数据 */
        setData({
            
        });
    }, []);

    return (
        <SafeAreaView>
            <View style={styles.header}>
                <Ionicons
                    name="chevron-back-outline"
                    size={25}
                    style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                    onPress={() => navigation.navigate("Mine")}
                />
                <Text style={styles.title}>基本信息</Text>
                <TouchableOpacity style={styles.editView} onPress={() => navigation.navigate("Infomation")}>
                    <Image source={require('../data/img/register_2.png')} style={styles.editImg} />
                    <Text style={{ fontSize: 13 }}>保存</Text>
                </TouchableOpacity>
            </View>
            <ScrollView>
                <View style={styles.BQXinfo}>
                    <View style={{ justifyContent: 'center', height: 70, backgroundColor: '#ffffff', margin: 3 }}>
                        <Text style={styles.leftTxt}>头像</Text>
                        <Image source={require('../data/img/pot.png')} style={styles.touxiangImg} />
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>昵称</Text>
                        <TextInput style={styles.rightTxt}>清风Zz</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>公益宣言</Text>
                        <TextInput style={styles.rightTxt}>服务他人，快乐自己</TextInput>
                    </View>
                </View>

                <View style={styles.selfinfo}>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>姓名</Text>
                        <TextInput style={styles.rightTxt}>吴*霖</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>证件类型</Text>
                        <TextInput style={styles.rightTxt}>居民身份证</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>证件号码</Text>
                        <TextInput style={styles.rightTxt}>******2001******59</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>志愿者编号</Text>
                        <TextInput style={styles.rightTxt}>3833362855494</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>注册日期</Text>
                        <TextInput style={styles.rightTxt}>2022-10-11</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>性别</Text>
                        <TextInput style={styles.rightTxt}>男</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>出生日期</Text>
                        <TextInput style={styles.rightTxt}>2001-03-03</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>政治面貌</Text>
                        <TextInput style={styles.rightTxt}>共青团员</TextInput>
                    </View>
                </View>

                <View style={styles.linkinfo}>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>手机号码</Text>
                        <TextInput style={styles.rightTxt}>15058828022</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>邮箱地址</Text>
                        <TextInput style={styles.rightTxt}>1170687672@qq.com</TextInput>
                    </View>
                    <View style={styles.txtView}>
                        <Text style={styles.leftTxt}>现居住地</Text>
                        <TextInput style={styles.rightTxt}>拱墅区湖州街51号</TextInput>
                    </View>
                </View>
            </ScrollView>



        </SafeAreaView>


    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
    },
    header: {
        width: "100%",
        height: 70,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center",
        backgroundColor: "#9D98FF"
    },
    title: {
        fontSize: 25,
        color:'#ffffff'
    },
    editView: {
        width: 30,
        height: 40,
        position: "absolute",
        right: 7,
        alignItems: 'center',
    },
    editImg: {
        width: 30,
        height: 30,
    },
    BQXinfo: {
        backgroundColor: '#f0f0f0',
        marginTop: 10,
        height: 180,
    },
    touxiangImg: {
        width: 60,
        height: 60,
        borderRadius: 30,
        position: "absolute",
        right: 7
    },
    txtView: {
        justifyContent: 'center',
        height: 50,
        backgroundColor: '#ffffff',
        margin: 2
    },
    leftTxt: {
        marginLeft: 10,
        fontSize: 16
    },
    rightTxt: {
        position: "absolute",
        right: 8
    },
    selfinfo: {
        backgroundColor: '#f0f0f0',
        marginTop: 10,
        height: 427,
    },
    linkinfo: {
        backgroundColor: '#f0f0f0',
        marginTop: 10,
        height: 260,
    },
});

export default Infomation;
```  
### Launch.js
```javascript
import React, { useState, useEffect } from "react";
import { Text, StyleSheet, View, Image, StatusBar } from "react-native";

const Launch = (prop) => {
  const [time, setTime] = useState(1);

  useEffect(() => {
    let timeChange;
    const clock = () => {
      if (time > 0)
        setTime(time - 1);
      else {
        clearInterval(timeChange);
        prop.navigation.navigate('Login');
      }
    };
    timeChange = setInterval(clock, 1000);
  });

  return (
    <View style={styles.container}>
      <StatusBar hidden={true} />
      <Text style={styles.text}>博青秀</Text>
      <Image
        source={require('../data/img/logo.png')}
        style={styles.picture} />
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: 'center',
    alignItems: 'center',
  },
  text: {
    color: '#7B9DF6',
    fontSize: 50,
  },
  picture: {
    marginTop: 20,
    marginBottom: 20,
    width: 100,
    height: 90,
  }
});

export default Launch;
```  
### Login.js
```javascript
import React, { useEffect, useState } from "react";
import ModalDropdown from 'react-native-modal-dropdown';
import {
    Text,
    StyleSheet,
    View,
    TextInput,
    TouchableOpacity,
    Image,
    Dimensions,
    StatusBar,
    ImageBackground,
    TouchableNativeFeedback
} from "react-native";
import Geo from "./Geo";
import Tooltip from "./Tooltip";
import UserInformation from "./UserInformation";
import scxUtil from "./scxUtil";

const { width, height } = Dimensions.get("screen");
const Login = (prop) => {
    const [account, setAccount] = useState("");   //账号
    const [password, setpassword] = useState("");   //密码
    const [identity, setIdentity] = useState("");   //身份

    const [forgetIdentity, setForgetIdentity] = useState("");   //忘记密码界面身份
    const [forgetPhone, setForgetPhone] = useState("");   //忘记密码界面手机号
    const [forgetCaptcha, setForgetCaptcha] = useState("");   //忘记密码界面验证码
    const [forgetPwd, setForgetPwd] = useState("");   //忘记密码界面新密码
    const [forgetConfirm, setForgetConfirm] = useState("");   //忘记密码界面确认密码
    const [random, setRandom] = useState("验证码");   //随机生成4位数字验证码

    const [click, isClick] = useState(false);
    const [hintIcon, setHintIcon] = useState("");
    const [hintText, setHintText] = useState("");

    // 更改
    function changeText(type, text) {
        if (type === "account")
            setAccount(text);
        else if (type === "password")
            setpassword(text);
        else if (type === "forgetIdentity")
            setForgetIdentity(text);
        else if (type === "forgetPhone")
            setForgetPhone(text);
        else if (type === "forgetCaptcha")
            setForgetCaptcha(text);
        else if (type === "forgetPwd")
            setForgetPwd(text);
        else if (type === "forgetConfirm")
            setForgetConfirm(text);
    }

    function checkInfo() {
        var errorText;
        if (identity === "")
            errorText = "请选择身份";
        else if (account === "")
            errorText = "登录账号不能为空";
        else if (password === "")
            errorText = "登录密码不能为空";
        else return true;

        setHintIcon("alert-outline");
        setHintText(errorText);
        setTimeout(() => {
            setHintIcon("");
            setHintText("");
        }, 2000);
        return false;
    }

    function checkForget() {
        var errorText;
        if (forgetIdentity === "")
            errorText = "请选择身份";
        else if (forgetPhone === "")
            errorText = "手机号码不能为空";
        else if (forgetCaptcha === "")
            errorText = "验证码不能为空";
        else if (forgetPwd === "")
            errorText = "登录密码不能为空";
        else if (forgetConfirm === "")
            errorText = "确认密码不能为空";
        else if (forgetCaptcha != random)
            errorText = "验证码错误";
        else if (forgetPwd !== forgetConfirm)
            errorText = "两次密码不一致";
        else return true;

        setHintIcon("alert-outline");
        setHintText(errorText);
        setTimeout(() => {
            setHintIcon("");
            setHintText("");
        }, 2000);
        return false;
    }

    /** 登录 */
    async function login() {
        var ip = UserInformation.ip;
        var check = checkInfo();

        if (check === true) {
            UserInformation.account = account;

            if (identity === "普通用户") {
                UserInformation.identity = "普通用户";
                await fetch(ip + 'selectUserByPhone.php?phone=' + account)
                    .then(res => res.json())
                    .then(resJson => {
                        // console.log(resJson);

                        if (resJson.length === 0) {
                            setHintIcon("alert-outline");
                            setHintText("手机号码未注册");
                            setTimeout(() => {
                                setHintIcon("");
                                setHintText("");
                            }, 2000);
                        }
                        else {
                            if (password !== resJson[0].nUserPwd) {
                                setHintIcon("alert-outline");
                                setHintText("密码错误");
                                setTimeout(() => {
                                    setHintIcon("");
                                    setHintText("");
                                }, 2000);
                            }
                            else {
                                UserInformation.id = resJson[0].userId;
                                setHintIcon("checkmark-outline");
                                setHintText("登录成功");
                                setTimeout(() => {
                                    setHintIcon("");
                                    setHintText("");
                                    prop.navigation.navigate('Main');
                                }, 500);
                            }
                        }
                    }).catch(e => console.log(e));
            }
            else {
                UserInformation.identity = "文化组织";
                await fetch(ip + 'selectOrgByPhone.php?phone=' + account)
                    .then(res => res.json())
                    .then(resJson => {
                        console.log(resJson);
                        if (resJson.length === 0) {
                            setHintIcon("alert-outline");
                            setHintText("手机号码未注册");
                            setTimeout(() => {
                                setHintIcon("");
                                setHintText("");
                            }, 2000);
                        }
                        else {
                            if (password !== resJson[0].orgPwd) {
                                setHintIcon("alert-outline");
                                setHintText("密码错误");
                                setTimeout(() => {
                                    setHintIcon("");
                                    setHintText("");
                                }, 2000);
                            }
                            else {
                                UserInformation.id = resJson[0].userId;
                                setHintIcon("checkmark-outline");
                                setHintText("登录成功");
                                setTimeout(() => {
                                    setHintIcon("");
                                    setHintText("");
                                    prop.navigation.navigate('Main');
                                }, 500);
                            }
                        }
                    }).catch(e => console.log(e));
            }
        }
    }

    /** 获取验证码  */
    function gainCaptcha() {
        const min = 1000;
        const max = 9999;
        setRandom(Math.floor(Math.random() * (max - min)) + min);
    }

    /** 修改密码 */
    const modify = async () => {
        var ip = UserInformation.ip;
        var check = checkForget();

        if (check === true) {
            if (forgetIdentity === "普通用户") {
                await fetch(ip + 'selectUserByPhone.php?phone=' + forgetPhone)
                    .then(res => res.json())
                    .then(resJson => {
                        console.log(resJson)
                        if (resJson.length === 0) {
                            setHintIcon("alert-outline");
                            setHintText("手机号码未注册");
                            setTimeout(() => {
                                setHintIcon("");
                                setHintText("");
                            }, 2000);
                        }
                        else {
                            fetch(ip + 'updateNormalUserPwdByPhone.php?password=' + forgetPwd + '&phone=' + forgetPhone)
                                .then(() => {
                                    setHintIcon("checkmark-outline");
                                    setHintText("修改成功");
                                    setTimeout(() => {
                                        setForgetIdentity("");
                                        setForgetPhone("");
                                        setForgetCaptcha("");
                                        setForgetPwd("");
                                        setForgetConfirm("");
                                        setRandom("验证码");
                                        setHintIcon("");
                                        setHintText("");
                                    }, 1000);

                                    isClick(false);
                                })
                        }
                    }).catch(e => console.log(e));
            }
            else {
                await fetch(ip + 'selectOrgByPhone.php?phone=' + forgetPhone)
                    .then(res => res.json())
                    .then(resJson => {
                        // console.log(resJson)
                        if (resJson.length === 0) {
                            setHintIcon("alert-outline");
                            setHintText("手机号码未注册");
                            setTimeout(() => {
                                setHintIcon("");
                                setHintText("");
                            }, 2000);
                        }
                        else {
                            fetch(ip + 'updateOrgPwdByPhone.php?password=' + forgetPwd + '&phone=' + forgetPhone)
                                .then(() => {
                                    setHintIcon("checkmark-outline");
                                    setHintText("修改成功");
                                    setTimeout(() => {
                                        setForgetIdentity("");
                                        setForgetPhone("");
                                        setForgetCaptcha("");
                                        setForgetPwd("");
                                        setForgetConfirm("");
                                        setRandom("验证码");
                                        setHintIcon("");
                                        setHintText("");
                                    }, 1000);

                                    isClick(false);
                                })
                        }
                    }).catch(e => console.log(e));
            }
        }
    }
    /**
     * 获取地址
     */
    getGeo = async () => {
        let data = await Geo.getCityByLocation();
        console.log("data" + JSON.stringify(data));   //数据都在这

    }


    const forget = () => {
        if (click === true) {
            // getGeo();

            return (
                <View style={{
                    position: "absolute",
                    backgroundColor: "rgba(0, 0, 0, 0.7)",
                    alignSelf: "center",
                    width: "100%",
                    borderRadius: 10,
                    top: 180,
                    paddingVertical: 15,
                    paddingHorizontal: 10
                }}>
                    <ModalDropdown
                        options={["普通用户", "文化组织"]}
                        defaultValue="       请选择身份     ﹀"
                        value={forgetIdentity}
                        onSelect={(index, value) => setForgetIdentity(value)}
                        animated={false}
                        style={styles.forgetDropdown}
                        textStyle={styles.forgetDropdownText}
                        dropdownStyle={[{ width: "50%", marginLeft: 20 }, { height: 38 * 2 }]}
                        dropdownTextStyle={{ fontSize: 16, alignSelf: "center" }}
                    />
                    <View style={styles.forget}>
                        <TextInput
                            value={forgetPhone}
                            placeholder="请输入手机号码"
                            placeholderTextColor={"#FFF"}
                            keyboardType="number-pad"
                            onChangeText={text => changeText("forgetPhone", text)}
                            style={styles.forgetInput}
                        />
                    </View>
                    <View style={styles.forget}>
                        <TextInput
                            value={forgetCaptcha}
                            placeholder="请输入验证码"
                            placeholderTextColor={"#FFF"}
                            onChangeText={text => changeText("forgetCaptcha", text)}
                            style={{
                                width: "60%",
                                marginLeft: 10,
                                fontSize: 16,
                                color: "#FFF"
                            }}
                        />
                        <TouchableNativeFeedback onPress={() => gainCaptcha()}>
                            <Text style={{
                                borderRadius: 50,
                                width: 60,
                                height: 30,
                                alignSelf: "center",
                                backgroundColor: "#7B9DF6",
                                textAlign: "center",
                                textAlignVertical: 'center',
                                color: "#FFF",
                                fontSize: 14,
                                position: "absolute",
                                right: 4
                            }}>{random}</Text>
                        </TouchableNativeFeedback>
                    </View>
                    <View style={styles.forget}>
                        <TextInput
                            value={forgetPwd}
                            placeholder="请输入新密码"
                            placeholderTextColor={"#FFF"}
                            secureTextEntry={true}
                            onChangeText={text => changeText("forgetPwd", text)}
                            style={styles.forgetInput}
                        />
                    </View>
                    <View style={styles.forget}>
                        <TextInput
                            value={forgetConfirm}
                            placeholder="请输入确认密码"
                            placeholderTextColor={"#FFF"}
                            secureTextEntry={true}
                            onChangeText={text => changeText("forgetConfirm", text)}
                            style={styles.forgetInput}
                        />
                    </View>
                    <View style={{ flexDirection: "row", justifyContent: "space-around" }}>
                        <TouchableOpacity onPress={() => isClick(false)}
                            style={{
                                marginVertical: 10,
                                borderRadius: 50,
                                width: 100,
                                height: 40,
                                backgroundColor: "#7B9DF6",
                                justifyContent: "center",
                                marginRight: 5
                            }}>
                            <Text style={{
                                textAlign: "center",
                                textAlignVertical: 'center',
                                color: "#FFF",
                                fontSize: 18
                            }}>返回</Text>
                        </TouchableOpacity>
                        <TouchableOpacity onPress={() => modify()}
                            style={{
                                marginVertical: 10,
                                borderRadius: 50,
                                width: 100,
                                height: 40,
                                backgroundColor: "#7B9DF6",
                                justifyContent: "center",
                            }}>
                            <Text style={{
                                textAlign: "center",
                                textAlignVertical: 'center',
                                color: "#FFF",
                                fontSize: 18
                            }}>修改</Text>
                        </TouchableOpacity>
                    </View>
                </View>
            );
        }

    }

    // useEffect(() => {

    // }, []);

    return (
        <View>
            <StatusBar hidden={false} />
            <ImageBackground source={require("../data/img/login.png")} style={{ width, height }}>
                <View style={styles.container}>
                    <ModalDropdown
                        options={["普通用户", "文化组织"]}
                        defaultValue="        请选择身份       ﹀"
                        value={identity}
                        onSelect={(index, value) => setIdentity(value)}
                        animated={false}
                        style={styles.dropdown}
                        textStyle={styles.dropdownText}
                        dropdownStyle={[{ width: 200, marginLeft: 25 }, { height: 38 * 2 }]}
                        dropdownTextStyle={{ fontSize: 16, alignSelf: "center" }}
                    />
                    <View style={styles.inputView}>
                        <Image source={require("../data/img/login_1.png")} style={styles.img} />
                        <View style={styles.line}></View>
                        <TextInput
                            value={account}
                            placeholder="请输入手机号码"
                            onChangeText={text => changeText("account", text)}
                            style={styles.input}
                        />
                    </View>
                    <View style={styles.inputView}>
                        <Image source={require("../data/img/login_2.png")} style={styles.img} />
                        <View style={styles.line}></View>
                        <TextInput
                            value={password}
                            placeholder="请输入登录密码"
                            secureTextEntry={false}
                            onChangeText={text => changeText("password", text)}
                            style={styles.input}
                        />
                    </View>
                    <Text style={styles.forgetPwd} onPress={() => isClick(true)}>忘记密码</Text>
                    <TouchableOpacity onPress={() => login()}
                        style={{
                            marginTop: 30,
                            borderRadius: 50,
                            width: 200,
                            height: 40,
                            backgroundColor: "#7B9DF6",
                            justifyContent: "center"
                        }}>
                        <Text style={styles.btnLogin}>登录</Text>
                    </TouchableOpacity>
                    <Text style={styles.register} onPress={() => prop.navigation.navigate('Register')}>立即注册</Text>
                    <Text style={styles.info}>登录表示你同意该软件
                        <Text style={styles.infoItem}>用户服务协议</Text>和
                        <Text style={styles.infoItem}>隐私政策</Text>
                    </Text>
                    {forget()}
                </View>
            </ImageBackground>
            {Tooltip(hintIcon, hintText, height)}
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: "center",
        alignItems: "center",
        marginLeft: 49,
        marginRight: 49
    },
    inputView: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 40,
        width: 260,
        height: 45,
        margin: 15,
        flexDirection: "row",
    },
    input: {
        width: 180,
        marginLeft: 10,
        fontSize: 16,
    },
    img: {
        width: 20,
        height: 20,
        marginTop: 11,
        marginLeft: 18,
        marginRight: 13
    },
    line: {
        borderLeftWidth: 1,
        borderLeftColor: "#BBB",
        height: 20,
        marginTop: 11
    },
    forgetPwd: {
        fontSize: 14,
        alignSelf: "flex-end",
        marginRight: 10,
        marginTop: 0
    },
    btnLogin: {
        textAlign: "center",
        textAlignVertical: 'center',
        color: "#FFF",
        fontSize: 18
    },
    register: {
        marginTop: 20,
        fontSize: 14,
    },
    info: {
        position: "absolute",
        bottom: 100,
        fontSize: 12
    },
    infoItem: {
        color: "#7B9DF6"
    },
    forget: {
        borderColor: "#FFF",
        borderWidth: 1,
        borderRadius: 40,
        width: "90%",
        height: 40,
        marginHorizontal: 10,
        marginVertical: 5,
        flexDirection: "row",
    },
    forgetInput: {
        width: "90%",
        marginLeft: 10,
        fontSize: 16,
        color: "#FFF"
    },
    forgetDropdown: {
        borderColor: "#FFF",
        borderWidth: 1,
        borderRadius: 40,
        width: "90%",
        height: 40,
        marginHorizontal: 10,
        marginTop: 10,
        marginBottom: 5,
        display: "flex",
        alignItems: "center"
    },
    forgetDropdownText: {
        fontSize: 16,
        width: "100%",
        height: 40,
        textAlign: "center",
        textAlignVertical: 'center',
        color: "#FFF"
    },
    dropdown: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 40,
        width: 260,
        height: 45,
        marginHorizontal: 15,
        marginTop: 40,
        marginBottom: 15
    },
    dropdownText: {
        fontSize: 16,
        width: 260,
        height: 45,
        textAlign: "center",
        textAlignVertical: 'center',
        color: "#9E9E9E",
    }
});

export default Login;
```  
### Main.js
```javascript
import React from "react";
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import { Image } from "react-native";
import Message from "./Message";
import Home from "./Home";
import SignAgreement from './SignAgreement';
import Activity from "./Activity";
import Mine from "./Mine"

const Tab = createBottomTabNavigator();

const Main = () => {
    return (
        <Tab.Navigator
            screenOptions={({ route }) => ({
                tabBarIcon: ({ focused }) => {
                    if (route.name === "Home") {
                        return (focused ? <Image source={require("../data/img/home_11.png")} style={{ width: 30, height: 28, marginBottom: 2, marginRight: 3 }} />
                            : <Image source={require("../data/img/home_1.png")} style={{ width: 30, height: 26, marginTop: 3, marginRight: 1 }} />);
                    } else if (route.name === "Message") {
                        return (focused ? <Image source={require("../data/img/home_22.png")} style={{ width: 30, height: 30, marginTop: 2, marginRight: 2 }} />
                            : <Image source={require("../data/img/home_2.png")} style={{ width: 28, height: 23, marginTop: 4 }} />);
                    }
                    else if (route.name === "SignAgreement") {
                        return <Image source={require("../data/img/home_3.png")} style={{ width: 40, height: 40, marginBottom: 12 }} />;
                    }
                    else if (route.name === "Activity") {
                        return (focused ? <Image source={require("../data/img/home_44.png")} style={{ width: 36, height: 36 }} />
                            : <Image source={require("../data/img/home_4.png")} style={{ width: 30, height: 30 }} />);
                    }
                    else if (route.name === "Mine") {
                        return (focused ? <Image source={require("../data/img/home_55.png")} style={{ width: 30, height: 30 }} />
                            : <Image source={require("../data/img/home_5.png")} style={{ width: 32, height: 28, marginLeft: 5, marginTop: 3 }} />);
                    }
                },
                tabBarActiveTintColor: "#A998FF",
                tabBarInactiveTintColor: "gray",
                tabBarStyle: { height: 50 }
            })}
        >
            <Tab.Screen name="Home" options={{ title: "首页", headerShown: false }} component={Home} />
            <Tab.Screen name="Message" options={{ title: "消息", headerShown: false }} component={Message} />
            <Tab.Screen name="SignAgreement" options={{ title: "签到", headerShown: false }} component={SignAgreement} />
            <Tab.Screen name="Activity" options={{ title: "活动", headerShown: false }} component={Activity} />
            <Tab.Screen name="Mine" options={{ title: "我的", headerShown: false }} component={Mine} />
        </Tab.Navigator>
    );
}

export default Main;
```  
### Message.js
```javascript
import React, { useState, useEffect } from "react";
import {
    Text,
    StyleSheet,
    View,
    TouchableOpacity,
    Image,
    Dimensions,
    FlatList,
    SafeAreaView
} from "react-native";
import UserInformation from "./UserInformation";
import scxUtil from "./scxUtil"
import moment from 'moment';
// 查一个刷新
// 每过5s刷新一下页面，或者下拉刷新
const Message = (prop) => {
    const [totalMsg, setTotalMsg] = useState("");
    const [data, setData] = useState([]);
    const [refreshing, isRefresh] = useState(true);

    const renderItem = (dataItem) => {
        return (
            <TouchableOpacity onPress={() => prop.navigation.navigate("Chat", {
                orgId: dataItem.item.orgId
            })}>
                <View style={styles.msgView}>
                    <View style={{ margin: 10 }}>
                        {/* <Image source={dataItem.item.head} style={styles.head} /> */}
                        <Image source={{ uri: dataItem.item.head }} style={styles.head} />
                        {unread(dataItem.item.unreadNum)}
                    </View>
                    <View style={{ flex: 1 }}>
                        <View style={{ flexDirection: "row" }}>
                            <Text style={styles.msgName}>{dataItem.item.name}</Text>
                            <Text style={styles.msgTime}>{dataItem.item.lastTime}</Text>
                        </View>
                        <Text style={styles.lastestMsg}>{dataItem.item.lastMsg}</Text>
                    </View>
                </View>
            </TouchableOpacity>
        );
    }

    const renderSeparator = () => {
        return (<View style={{
            height: 1,
            backgroundColor: "#EEE",
        }} />);
    }



    /** 从数据库获取数据，包括头像，名称，时间，最新消息，未读消息等等，大概要两张表，一张用在消息界面，一张用在聊天界面 */
    const gainMessages = async (userId) => {
        /** 获取数据，按时间先后排序，并获取最新消息 */
        var userId = UserInformation.id;
        var AllYouId;
        var ip = UserInformation.ip
        var newData = [];
        // 有一个小bug，必须要有主动给别人发的消息
        await fetch(ip + 'selectYouIdByUserId.php?id=' + userId)
            .then(res => res.json())
            .then(resJson => {
                AllYouId = resJson;
            }).catch(e => console.log(e));
        console.log(AllYouId.length);  // 获取到其他人的userId
        for (var i = 0; i < AllYouId.length; i++) {
            var otherUserId = AllYouId[i].youId;
            // console.log('其他人的id' + otherUserId);
            var tempObj = {};
            var lastTime;
            var lastMsg;
            // 获取最后的时间
            await fetch(ip + 'selectLastTimeByUserIdOrYouId.php?userId=' + userId + '&otherId=' + otherUserId)
                .then(res => res.json())
                .then(resJson => {
                    // console.log(resJson);
                    if (resJson.length != 0) {
                        // lastTimeString = resJson[0].t.replace(/T/g, ' ').replace(/.[\d]{3}Z/, '');

                        // var newTest2 = moment(lastTimeString).add(8, 'hours');

                        // var newTest4 = newTest2.format('YYYY-MM-DD HH:mm:ss')
                        // // console.log(newTest4);
                        // lastTime = newTest4;
                        //使用php之后，不需要转换时间了
                        lastTime = resJson[0].t;
                    }
                }).catch(e => console.log(e));
            // 获取这最后一条消息
            await fetch(ip + 'selectMsgByUserIdOrYouIdAndTime.php?userId=' + userId + '&otherId=' + otherUserId + '&time=' + lastTime)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        lastMsg = resJson[0].msg
                    }
                }).catch(e => console.log(e));
            var imgSource;
            var orgName;
            await fetch(ip + 'selectOrgByUserId.php?userId=' + otherUserId)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        imgSource = resJson[0].orgImg;
                        orgName = resJson[0].orgName;
                    }
                }).catch(e => console.log(e));
            var unReadNum;
            await fetch(ip + 'selectTheCountOfUnReadMessage.php?userId=' + userId + '&otherId=' + otherUserId)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        unReadNum = resJson[0].c;
                    }
                }).catch(e => console.log(e));
            tempObj = { lastTime: lastTime, lastMsg: lastMsg, head: imgSource, name: orgName, unreadNum: unReadNum, orgId: otherUserId };
            // console.log(tempObj);// 目前还是留着，看消息是否正常传入进去
            newData.push(tempObj)
        }
        // let newData = [
        //     {
        // head: require("../data/img/home_7.png"),
        //         name: "融设计图书馆",
        //         lastTime: "昨天",
        //         lastMsg: "您好，我想问一下融设计图书馆有什么特色？",
        //         unreadNum: 2
        //     },
        //     {
        //         head: require("../data/img/home_8.png"),
        //         name: "浙江余杭蜜梨“科技校园”",
        //         lastTime: "2022/12/18",
        //         lastMsg: "您好，我想问一下浙江余杭蜜梨“科技校园”有什么特色？",
        //         unreadNum: 3
        //     },
        //     {
        //         head: require("../data/img/home_9.png"),
        //         name: "智慧网谷城市展示中心",
        //         lastTime: "2022/12/18",
        //         lastMsg: "您好，我想问一下智慧网谷城市展示中心有什么特色？",
        //         unreadNum: 5
        //     }
        // ];
        // newData.push()
        let total = 0;
        newData.map((value) => {
            total += value.unreadNum;
        });
        if (total !== 0) setTotalMsg("(" + total + ")");

        setData([...newData]);
        isRefresh(false);
    }

    const unread = (num) => {
        if (num != 0)
            return (
                <View style={styles.circle}>
                    <Text style={styles.cicleNum}>{num}</Text>
                </View>
            );
    }

    const clearUnread = () => {
        let newData = [...data];
        newData = newData.map((value) => {
            let newItem = { ...value };
            newItem.unreadNum = 0;
            return { ...newItem };
        });

        setTotalMsg("");
        setData([...newData]);
    }

    useEffect(() => {

        const interval = setInterval(gainMessages, 5000); // 每隔5分钟執行 loadData 這個 function

        return () => clearInterval(interval);
    }, []);

    return (
        <View style={styles.container}>
            <View style={styles.header}>
                <Text style={styles.TextMsg}>{`消息${totalMsg}`}</Text>
                <TouchableOpacity style={{ flexDirection: "row", position: "absolute", right: 10 }} onPress={() => clearUnread()}>
                    <Image source={require("../data/img/message_1.png")} style={[styles.icon, { width: 25, height: 25 }]} />
                </TouchableOpacity>
            </View>
            <View style={styles.msg}>
                <SafeAreaView>
                    <FlatList
                        data={data}
                        renderItem={renderItem}
                        ItemSeparatorComponent={renderSeparator}
                    />
                </SafeAreaView>
            </View>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: "center",
        alignItems: "center",
    },
    header: {
        position: "absolute",
        top: 0,
        backgroundColor: "#9D98FF",
        width: "100%",
        height: 130,
        flexDirection: "row"
    },
    icon: {
        marginTop: 13,
        marginLeft: 10
    },
    TextMsg: {
        margin: 15,
        color: "#FFF",
        fontSize: 20
    },
    msg: {
        backgroundColor: "#EEE",
        width: "100%",
        position: "absolute",
        top: 130
    },
    server: {
        backgroundColor: "#FFF",
        width: "100%",
        height: 70,
        flexDirection: "row",
        marginBottom: 10
    },
    msgView: {
        backgroundColor: "#FFF",
        width: "100%",
        height: 70,
        flexDirection: "row",
    },
    head: {
        width: 50,
        height: 50,
        borderRadius: 4
    },
    msgName: {
        fontSize: 14,
        fontWeight: "bold",
        marginTop: 10,
        marginBottom: 5,
        flex: 3
    },
    msgTime: {
        fontSize: 12,
        color: "#CDC9C9",
        marginTop: 10,
        position: "absolute",
        right: 10
    },
    lastestMsg: {
        fontSize: 12,
        color: "#999"
    },
    circle: {
        position: "absolute",
        right: -6,
        top: -6,
        backgroundColor: "red",
        borderRadius: 50,
        width: 14,
        height: 14,
        alignItems: "center",
        justifyContent: "center"
    },
    cicleNum: {
        color: "#FFF",
        fontSize: 10
    }
});

export default Message;
```  
### Mine.js
```javascript
import React, { useState, useEffect } from "react";
import { Text, StyleSheet, View, TextInput, TouchableNativeFeedback, Image, ActivityIndicator, Dimensions, StatusBar, ImageBackground, TouchableOpacity } from "react-native";
import { ComposedGesture } from "react-native-gesture-handler/lib/typescript/handlers/gestures/gestureComposition";
import UserInformation from "./UserInformation";


const Mine = (prop) => {

    const [name, setName] = useState("");
    const [type, setType] = useState("");
    const [totalTime, setTime] = useState(0);
    //测试数据
    const mineDetail = [
        {
            Name: '吴卓霖',
            vType: '大学生志愿者',
            organization: '浙大城市学院',
        }
    ]

    const fetchData = async () => {
        var name;
        var type;
        var totalTime;
        var userId = UserInformation.id;
        var ip = UserInformation.ip;

        await fetch(ip + 'selectUserByUserId.php?id=' + userId)
            .then(res => res.json())
            .then(resJson => {
                if (resJson.length != 0) {
                    name = resJson[0].name;
                    type = resJson[0].type;
                }
            }).catch(e => console.log(e));
        setName(name);
        console.log("type");
        console.log(type);
        if (type === "1") { // normalUser
            await fetch(ip + 'selectNormalUserByUserId.php?id=' + userId)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        totalTime = resJson[0].totalTime;
                    }
                }).catch(e => console.log(e));
            setType("大学生志愿者");
            setTime(totalTime);
            console.log(totalTime);
        }
        else {
            // setTime(0);
            setType("组织")
        }
    }
    useEffect(() => {
        // var name;
        // var type;
        // var totalTime;
        // var userId = UserInformation.id;
        // var ip = UserInformation.ip;

        // fetch(ip + 'selectUserByUserId.php?id=' + userId)
        //     .then(res => res.json())
        //     .then(resJson => {
        //         if (resJson.length != 0) {
        //             name = resJson[0].name;
        //             type = resJson[0].type;
        //             setName(name)
        //             console.log("type");
        //             console.log(type);
        //             if (type === 1) { // normalUser
        //                 console.log("进入fetch之前");
        //                 fetch(ip + 'selectNormalUserByUserId.php?id=' + userId)
        //                     .then(res => res.json())
        //                     .then(resJson => {
        //                         console.log(resJson.length);
        //                         if (resJson.length != 0) {
        //                             totalTime = resJson[0].totalTime;
        //                             console.log("totalTime是");
        //                             console.log(totalTime);
        //                             setType("大学生志愿者");
        //                             setTime(totalTime);
        //                         }
        //                     }).catch(e => console.log(e));
        //                 console.log("进入fetch之后");
        //             }
        //             else {
        //                 // setTime(0);
        //                 setType("组织")
        //             }
        //         }
        //     }).catch(e => console.log(e));

        fetchData();

    }, []);

    return (
        <View style={styles.container}>
            <View style={styles.header}>
                <Text style={{ fontSize: 20, color: '#ffffff' }}>个人页面</Text>
            </View>

            <View style={styles.viewUser}>
                <View style={styles.viewUserTop}>
                    <Image style={styles.imgUserTitle} source={require('../data/img/pot.png')} />
                </View>
                <Text style={styles.txtName}>{name}</Text>
                <Text style={styles.vTime}>{totalTime}</Text>
                <Text style={styles.vTxt}>活动时长</Text>

            </View>
            <View style={{ marginLeft: 19, marginRight: 19 }}>
                <Image style={styles.adverimage} source={require('../data/img/advertiseme.png')} />
            </View>

            <View style={styles.twoPage}>
                <TouchableOpacity style={styles.touchPage}>
                    <Image source={require('../data/img/server.png')} style={styles.imagestyle}></Image>
                    <View >
                        <View >
                            <Text style={{ fontSize: 15 }}>公益履历</Text>
                        </View>
                        <Text style={styles.smalltitle}>做最美的自己</Text>
                    </View>
                </TouchableOpacity>
                <TouchableOpacity style={styles.touchPage}>
                    <Image source={require('../data/img/server.png')} style={styles.imagestyle}></Image>
                    <View >
                        <View >
                            <Text style={{ fontSize: 15 }}>博青秀服务</Text>
                        </View>
                        <Text style={styles.smalltitle}>记录证明</Text>
                    </View>
                </TouchableOpacity>
            </View>
            <Text style={{ fontSize: 18 }}>   我的服务————————————————</Text>


            <View style={styles.SecondService}>
                <TouchableOpacity style={styles.secondTouch} onPress={() => prop.navigation.navigate('Infomation', mineDetail)}>
                    <Image source={require('../data/img/AK-MN_活动.png')} style={styles.imagestyle}></Image>
                    <Text style={styles.smalltitle}>基本信息</Text>

                </TouchableOpacity>
                <TouchableOpacity style={styles.secondTouch} onPress={() => prop.navigation.navigate('ActivitySignup', mineDetail)}>
                    <Image source={require('../data/img/活动记录.png')} style={styles.imagestyle}></Image>
                    <Text style={styles.smalltitle}>已报名活动</Text>

                </TouchableOpacity>
                <TouchableOpacity style={styles.secondTouch} onPress={() => prop.navigation.navigate('CompletedAct', mineDetail)}>
                    <Image source={require('../data/img/活动发布.png')} style={styles.imagestyle}></Image>
                    <Text style={styles.smalltitle}>已签到活动</Text>

                </TouchableOpacity>
                <TouchableOpacity style={styles.secondTouch} onPress={() => prop.navigation.navigate('HelpCenter', mineDetail)}>
                    <Image source={require('../data/img/home_4.png')} style={styles.imagestyle}></Image>
                    <Text style={styles.smalltitle}>帮助中心</Text>

                </TouchableOpacity>
            </View>
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        //justifyContent: "center",
        //alignItems: "center",
        //marginLeft: 19,
        //marginRight: 19,
        // borderWidth: 1,
        // borderColor: "black"
    },
    header: {
        width: "100%",
        height: 50,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center",
        backgroundColor: '#9D98FF'
    },
    //颜色F0F0F0
    viewUser: {
        height: 240,
        backgroundColor: '#F0F0F0'
    },
    viewUserTop: {
        height: 130,
        alignItems: 'center',
        justifyContent: 'center'
    },
    imgUserTitle: {
        height: 100,
        width: 100,
        borderRadius: 50,
        marginTop: 20,
    },
    txtName: {
        fontSize: 15,
        alignSelf: 'center'
    },
    vTime: {
        alignSelf: 'center',
        fontSize: 20,
        marginTop: 20
    },
    vTxt: {
        alignSelf: 'center',
        fontSize: 18,
    },
    adverimage: {
        width: '100%',
        height: 80,
        borderRadius: 10,
    },
    twoPage: {
        flexDirection: 'row',
        height: 110,
        backgroundColor: '#f0f0f0',
        marginTop: 10,
        marginLeft: 19,
        marginRight: 19,
    },
    touchPage: {
        height: 80,
        width: '45%',
        flexDirection: 'row',
        //justifyContent:"center",
        alignItems: 'center',
        borderColor: '#F0F0F0',
        margin: 10,
        borderWidth: 2,
        backgroundColor: '#ffffff',
        borderRadius: 10
    },
    imagestyle: {
        margin: 5,
        height: 60,
        width: 60,
    },
    SecondService: {
        alignItems: 'center',
        justifyContent: 'center',
        flexDirection: 'row',
        height: 90,
    },
    secondTouch: {
        alignItems: 'center',
        width: '22%',
        margin: 5,
    },




});

export default Mine;
```  
### Publish.js
```javascript
import React, { useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import { Text, StyleSheet, ScrollView, TouchableOpacity, FlatList, View, TextInput, TouchableNativeFeedback, Image, ActivityIndicator, Dimensions, StatusBar, ImageBackground, SafeAreaView } from "react-native";

const Publish = (prop) => {
    const DATA = [
        {
            id: '18',
            title: '杭州融设计图书馆',
            acttime: '2022-11-07',
            actwhere: '浙江省杭州市余杭区',
            details: '整理书架'
        },
        {
            id: '19',
            title: '杭州智慧谷服务中心',
            acttime: '2022-11-10',
            actwhere: '浙江省湖州市拱墅区',
            details: '领导参观演讲'
        },
        {
            id: '20',
            title: '上城村文化礼堂开放日',
            acttime: '2022-11-10',
            actwhere: '浙江省湖州市拱墅区',
            details: '维持秩序'
        },
    ];

    const Item = ({ title, acttime, actwhere, details }) => {
        //const url=~~DATA.imageFound
        return (
            <View style={styles.item} >
                <View style={{ flex: 1 }}>
                    <Text style={styles.title}>{title}</Text>
                    <Text style={styles.smalltitle}>时间：{acttime}</Text>
                    <Text style={styles.smalltitle}>地点：{actwhere}</Text>
                    <Text style={styles.smalltitle}>志愿内容：{actwhere}</Text>
                </View>
            </View>

        );
    }

    const [choice, setChoice] = useState(0);
    const [data, setData] = useState();

    const order = () => {
        /**更新数据库 */
        setData({ ...data, numOfOrder: data.numOfOrder + 1 });
    }
    const scrollItem = () => {
        let dates = new Array(7).fill("");
        let date = new Date();
        const ZHOU = ['周日', '周一', '周二',
            '周三', '周四', '周五', '周六'];

        return dates.map((value, index) => {
            let month_day = new Date(date.getTime() + index * 24 * 3600 * 1000);
            return (
                <TouchableOpacity
                    style={[
                        { marginRight: 15, marginLeft: 5, justifyContent: "center", alignItems: "center" },
                        (index === choice) ? styles.chose : {}
                    ]}
                    onPress={() => setChoice(index)}
                >
                    <Text>{ZHOU[(date.getDay() + index) % 7]}</Text>
                    <Text>{`${month_day.getMonth() + 1}.${month_day.getDate()}`}</Text>
                </TouchableOpacity>
            );
        })
    }
    const renderItem = ({ item }) => (
        <Item title={item.title} acttime={item.acttime} actwhere={item.actwhere} details={item.details} />
    );

    return (

        <SafeAreaView style={styles.container}>

            <View style={styles.topView}>
                <Ionicons
                    name="chevron-back-outline"
                    size={25}
                    style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                    onPress={() => prop.navigation.navigate("Home")}
                />
                <Text style={styles.visit} onPress={() => prop.navigation.navigate('Activity')}>信息编辑</Text>
                <Text style={styles.joinin} >招募发布</Text>
            </View>

            <SafeAreaView style={{
                //position: "absolute",
                //bottom: 50,
                height: 50,
                width: "100%",
                borderWidth: 1,
                borderColor: "#BBB",
                borderTopLeftRadius: 5,
                borderTopRightRadius: 5,
                backgroundColor: "#FFF"
            }}>
                <ScrollView
                    horizontal={true}
                    showsHorizontalScrollIndicator={false}
                >
                    {scrollItem()}
                </ScrollView>
            </SafeAreaView>
            <FlatList
                data={DATA}
                renderItem={renderItem}
                keyExtractor={item => item.id}
            />
        </SafeAreaView>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        //justifyContent: "center",
        //alignItems: "center",
        //marginLeft: 49,
        //marginRight: 49,
        // borderWidth: 1,
        // borderColor: "black"
    },
    herder: {
        height: 45,
    },
    item: {
        backgroundColor: '#ffffff',
        padding: 20,
        marginVertical: 8,
        marginHorizontal: 16,
        flexDirection: 'row',
        flexWrap: 'wrap',
    },
    topView: {
        height: 70,
        alignItems: 'center',
        justifyContent: 'center',
        backgroundColor: '#9D98FF',
        flexDirection: 'row',
    },
    visit: {
        color: '#ffffff',
        fontSize: 21,
        //textDecorationLine: "underline",
        margin: 5
    },
    joinin: {
        color: '#ffffff',
        fontSize: 26,
        textDecorationLine: "underline",
        margin: 5,

    },
    title: {
        fontSize: 19,
        marginBottom: 10,
    },
    smalltitle: {
        fontSize: 17,
        marginBottom: 5,
        marginLeft: 10,
    },
    imagestyle: {
        width: 120,
        height: 70,
        borderRadius: 3,
        resizeMode: 'cover',
        marginRight: 10,
    },
    input: {
        width: 180,
        marginLeft: 10,
        fontSize: 16,
    },
    inputView: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 5,
        width: 260,
        height: 45,
        margin: 15,
        flexDirection: "row",
    },

});

export default Publish;
```  
### Register.js
```javascript
import React, { useState } from "react";
import ModalDropdown from 'react-native-modal-dropdown';
import { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';
import {
    Text,
    StyleSheet,
    View,
    TextInput,
    TouchableOpacity,
    Image,
    Dimensions
} from "react-native";
import Tooltip from "./Tooltip";
import scxUtil from "./scxUtil";
import UserInformation from "./UserInformation";
const { width, height } = Dimensions.get("screen");
const Register = (prop) => {
    const [password, setpassword] = useState("");   //密码
    const [confirm, setConfirm] = useState("");   //确认密码
    const [phone, setPhone] = useState("");   //手机号
    const [captcha, setCaptcha] = useState("");   //验证码
    const [random, setRandom] = useState("获取验证码");   //随机生成4位数字验证码
    const [identity, setIdentity] = useState("");   //身份
    const [hintIcon, setHintIcon] = useState("");
    const [hintText, setHintText] = useState("");

    function changeText(type, text) {
        if (type === "password")
            setpassword(text);
        else if (type === "confirm")
            setConfirm(text);
        else if (type === "phone")
            setPhone(text);
        else if (type === "captcha")
            setCaptcha(text);
    }

    /** 获取验证码  */
    function gainCaptcha() {
        const min = 1000;
        const max = 9999;
        setRandom(Math.floor(Math.random() * (max - min)) + min);
    }

    function checkInfo() {
        var errorText;
        if (identity === "")
            errorText = "请选择身份";
        else if (password === "")
            errorText = "登录密码不能为空";
        else if (confirm === "")
            errorText = "确认密码不能为空";
        else if (phone === "")
            errorText = "手机号码不能为空";
        else if (captcha === "")
            errorText = "验证码不能为空";
        else if (password !== confirm)
            errorText = "两次密码不一致";
        else if (scxUtil.checkMobile(phone) === false)
            errorText = "手机号码输入格式不正确";
        else if (captcha != random)
            errorText = "验证码错误";
        else return true;

        setHintIcon("alert-outline");
        setHintText(errorText);
        setTimeout(() => {
            setHintIcon("");
            setHintText("");
        }, 2000);
        return false;
    }

    /** 注册审核及插入数据库 */
    async function register() {
        var ip = UserInformation.ip;
        var check = checkInfo();
        var imgUrl, maxUserId;

        if (check === true) {
            await fetch('https://api.thecatapi.com/v1/images/search?limit=1&page=1')
                .then(res => res.json())
                .then(resJson => {
                    console.log(resJson)
                    imgUrl = resJson[0].url;

                    if (identity === "普通用户") {
                        fetch(ip + 'selectUserByPhone.php?phone=' + phone)
                            .then(res => res.json())
                            .then(resJson => {
                                console.log(resJson)
                                if (resJson.length !== 0) {
                                    setHintIcon("alert-outline");
                                    setHintText("手机账号已存在");
                                    setTimeout(() => {
                                        setHintIcon("");
                                        setHintText("");
                                    }, 2000);
                                }
                                else {
                                    fetch(ip + 'selectMaxUserId.php')
                                        .then(res => res.json())
                                        .then(resJson => {
                                            maxUserId = resJson.maxUserId;

                                            fetch(ip + 'addUser.php?userId=' + maxUserId + '&name=用户' + maxUserId + '&type=' + 1 + '&imgSource=' + imgUrl)
                                                .then(() => {
                                                    fetch(ip + 'addNormalUser.php?userId=' + maxUserId + '&nUserName=用户' + maxUserId
                                                        + '&phone=' + phone + '&password=' + password + '&nUserImg=' + imgUrl)
                                                        .then(() => {
                                                            setHintIcon("checkmark-outline");
                                                            setHintText("注册成功");
                                                            setTimeout(() => {
                                                                setHintIcon("");
                                                                setHintText("");
                                                                prop.navigation.navigate('Login');
                                                            }, 500);
                                                        })
                                                })
                                        }).catch(e => console.log(e));
                                }
                            }).catch(e => console.log(e));
                    }
                    else { // 文化组织
                        fetch(ip + 'selectOrgByPhone.php?phone=' + phone)
                            .then(res => res.json())
                            .then(resJson => {
                                console.log(resJson)
                                if (resJson.length !== 0) {
                                    setHintIcon("alert-outline");
                                    setHintText("手机账号已存在");
                                    setTimeout(() => {
                                        setHintIcon("");
                                        setHintText("");
                                    }, 2000);
                                }
                                else {
                                    fetch(ip + 'selectMaxUserId.php')
                                        .then(res => res.json())
                                        .then(resJson => {
                                            maxUserId = resJson.maxUserId;

                                            fetch(ip + 'addUser.php?userId=' + maxUserId + '&name=组织' + maxUserId + '&type=' + 1 + '&imgSource=' + imgUrl)
                                                .then(() => {
                                                    fetch(ip + 'addOrg.php?userId=' + maxUserId + '&orgName=组织' + maxUserId
                                                        + '&phone=' + phone + '&password=' + password + '&orgImg=' + imgUrl)
                                                        .then(() => {
                                                            setHintIcon("checkmark-outline");
                                                            setHintText("注册成功");
                                                            setTimeout(() => {
                                                                setHintIcon("");
                                                                setHintText("");
                                                                prop.navigation.navigate('Login');
                                                            }, 500);
                                                        })
                                                })
                                        }).catch(e => console.log(e));
                                }
                            }).catch(e => console.log(e));
                    }
                });
        }
    }

    // console.log(identity)
    return (
        <View style={styles.container}>
            <Image source={require("../data/img/register.png")} style={{ width: "100%", height: 210 }} />
            <KeyboardAwareScrollView onKeyboardWillShow={(frames) => {
                console.log('Keyboard event', frames)
            }}>
                <ModalDropdown
                    options={["普通用户", "文化组织"]}
                    defaultValue="        请选择身份       ﹀"
                    value={identity}
                    onSelect={(index, value) => setIdentity(value)}
                    animated={false}
                    style={styles.dropdown}
                    textStyle={styles.dropdownText}
                    dropdownStyle={[{ width: 200, marginLeft: 25 }, { height: 38 * 2 }]}
                    dropdownTextStyle={{ fontSize: 16, alignSelf: "center" }}
                />

                <View style={styles.inputView}>
                    <Image source={require("../data/img/login_2.png")} style={styles.img} />
                    <View style={styles.line}></View>
                    <TextInput
                        value={password}
                        placeholder="请输入登录密码"
                        secureTextEntry={true}
                        onChangeText={text => changeText("password", text)}
                        style={styles.input}
                    />
                </View>
                <View style={styles.inputView}>
                    <Image source={require("../data/img/login_2.png")} style={styles.img} />
                    <View style={styles.line}></View>
                    <TextInput
                        value={confirm}
                        placeholder="请输入确认密码"
                        secureTextEntry={true}
                        onChangeText={text => changeText("confirm", text)}
                        style={styles.input}
                    />
                </View>
                <View style={styles.inputView}>
                    <Image source={require("../data/img/register_1.png")} style={styles.img} />
                    <View style={styles.line}></View>
                    <TextInput
                        value={phone}
                        placeholder="请输入手机号码"
                        keyboardType="number-pad"
                        onChangeText={text => changeText("phone", text)}
                        style={styles.input}
                    />
                </View>
                <View style={styles.inputView}>
                    <Image source={require("../data/img/register_2.png")} style={styles.img} />
                    <View style={styles.line}></View>
                    <TextInput
                        value={captcha}
                        placeholder="请输入验证码"
                        onChangeText={text => changeText("captcha", text)}
                        style={styles.inputCaptcha}
                    />
                    <TouchableOpacity style={styles.btnCaptcha} onPress={() => gainCaptcha()}>
                        <Text style={[styles.captchaText, { fontSize: random === "获取验证码" ? 13 : 18 }]}>{random}</Text>
                    </TouchableOpacity>
                </View>
                <TouchableOpacity onPress={() => register()}>
                    <Text style={styles.btnRegister}>注册</Text>
                </TouchableOpacity>
                <Text style={styles.info}>注册表示你同意该软件
                    <Text style={styles.infoItem}>用户服务协议</Text>和
                    <Text style={styles.infoItem}>隐私政策</Text>
                </Text>
            </KeyboardAwareScrollView>
            {Tooltip(hintIcon, hintText, height)}
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: "center",
        alignItems: "center",
        backgroundColor: "#FFF"
    },
    inputView: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 40,
        width: 260,
        height: 45,
        marginHorizontal: 15,
        marginVertical: 10,
        flexDirection: "row",
    },
    input: {
        width: 180,
        marginLeft: 10,
        fontSize: 16,
    },
    inputCaptcha: {
        width: 110,
        marginLeft: 10,
        fontSize: 16
    },
    img: {
        width: 20,
        height: 20,
        marginTop: 11,
        marginLeft: 18,
        marginRight: 13
    },
    line: {
        borderLeftWidth: 1,
        borderLeftColor: "#BBB",
        height: 20,
        marginTop: 11
    },
    forgetPwd: {
        fontSize: 14,
        alignSelf: "flex-end",
        marginRight: 10,
        marginTop: 0
    },
    btnRegister: {
        borderRadius: 50,
        width: 200,
        height: 40,
        backgroundColor: "#7B9DF6",
        textAlign: "center",
        textAlignVertical: 'center',
        color: "#FFF",
        fontSize: 18,
        alignSelf: "center",
        marginTop: 40
    },
    btnCaptcha: {
        borderRadius: 50,
        width: 82,
        height: 35,
        alignSelf: "center",
        backgroundColor: "#7B9DF6",
        justifyContent: "center",
        alignItems: "center"
    },
    captchaText: {
        textAlign: "center",
        textAlignVertical: 'center',
        color: "#FFF"
    },
    info: {
        fontSize: 12,
        alignSelf: "center",
        marginTop: 30
    },
    infoItem: {
        color: "#7B9DF6"
    },
    dropdown: {
        borderColor: "#BBB",
        borderWidth: 1,
        borderRadius: 40,
        width: 260,
        height: 45,
        marginHorizontal: 15,
        marginTop: 40,
        marginBottom: 10
    },
    dropdownText: {
        fontSize: 16,
        width: 260,
        height: 45,
        textAlign: "center",
        textAlignVertical: 'center',
        color: "#9E9E9E",
    }
});

export default Register;
```  
### scxUtil.js
```javascript
/**
 * 这里面用来写一些scx的工具函数
 */

// 判断是不是手机号

function checkMobile(s) {
    var length = s.length;
    if (length == 11 && /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(14[0-9]{1})|)+\d{8})$/.test(s)) {
        return true;
    } else {
        return false;
    }
}



function addTime8(oldTimes1) {
    var time1 = oldTimes1.split(' ')[0];
    // console.log("1、第二种方式time1:" + time1)
    var arrTime = oldTimes1.split(' ')[1].split(':');
    // console.log("2、第二种方式arrTime:" + arrTime)
    var time2 = arrTime.slice(1, arrTime.length).join(':');
    // console.log("3、第二种方式time2:" + time2)
    var h = parseInt(arrTime[0]) + 8;
    // console.log('4、第二种方式小时：', h);
    var newH = ((h < 24) ? h : (h % 24)).toString();
    return time1 + ' ' + newH + ':' + time2;
}


export default { checkMobile, addTime8 }
```  
### Search.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    ScrollView,
    SafeAreaView,
    ImageBackground,
    Dimensions,
    TouchableOpacity,
    TextInput,
    FlatList,
    Image
} from "react-native";
import moment from "moment";
import UserInformation from "./UserInformation";

const { width, height } = Dimensions.get("screen");
const Search = (prop) => {
    const [searchContent, setSearchContent] = useState();
    const [searchClick, isSearchClick] = useState(false);
    const [data, setData] = useState();
    const [searchData, setSearchData] = useState();

    const search = async (content) => {
        if (content === "") content = searchContent;
        var ip = UserInformation.ip;
        var id = UserInformation.id;
        isSearchClick(true);

        await fetch(ip + 'selectHistoryByRecord.php?record=' + content)
            .then(res => res.json())
            .then(resJson => {
                console.log(resJson)
                var curTime = moment().format('YYYY-MM-DD HH:mm:ss');
                if (resJson.length !== 0) {
                    fetch(ip + 'updateHistoryTime.php?historyId=' + resJson[0].historyId + '&curTime=' + curTime);
                }
                else {
                    fetch(ip + 'addRecord.php?userId=' + id + '&record=' + content + '&curTime=' + curTime);
                }
            })

        await fetch(ip + 'search.php?info=' + content)
            .then(res => res.json())
            .then(resJson => {
                setSearchData(resJson);
            })
    }

    const clickHistory = async () => {
        isSearchClick(false);
        fetch(UserInformation.ip + 'selectRecord.php?userId=' + UserInformation.id)
            .then(res => res.json())
            .then(resJson => {
                setData(resJson.slice(0, 10));
            })
    }

    const clickRecord = (record) => {
        setSearchContent(record);
        search(record);
    }

    const scrollItem = () => {
        return (
            <View style={{ alignItems: "center", width: "100%" }}>
                {
                    data.map((value) => {
                        return (
                            <TouchableOpacity onPress={() => clickRecord(value.record)}
                                style={{
                                    marginVertical: 5,
                                    borderWidth: 1,
                                    borderRadius: 10,
                                    width: 280,
                                    height: 30,
                                    alignItems: "center",
                                    justifyContent: "center"
                                }}>
                                <Text numberOfLines={1} style={{ fontSize: 15, paddingHorizontal: 10 }}>{value.record}</Text>
                            </TouchableOpacity>
                        );
                    })
                }
            </View>
        );
    }

    const renderItem = (dataItem) => {
        return (
            <TouchableOpacity onPress={() => prop.navigation.navigate("ContentIntro", {
                name: dataItem.item.name
            })}>
                <View style={styles.viewSearch}>
                    <View style={{ margin: 10 }}>
                        <Image source={{ uri: dataItem.item.orgImg }} style={styles.head} />
                    </View>
                    <View style={{ flex: 1 }}>
                        <View style={{ flexDirection: "row" }}>
                            <Text style={styles.searchName}>{dataItem.item.orgName}</Text>
                        </View>
                        <Text style={styles.searchText}>{dataItem.item.time}</Text>
                        <Text style={styles.searchText}>{dataItem.item.address}</Text>
                    </View>
                </View>
            </TouchableOpacity>
        );
    }

    const renderSeparator = () => {
        return (<View style={{
            height: 1,
            backgroundColor: "#EEE",
        }} />);
    }

    const history = () => {
        if (searchClick === false)
            return (
                <View style={{ alignSelf: "center" }}>
                    <Text style={{ fontSize: 15, marginTop: 20, fontWeight: "bold", alignSelf: "center" }}>历史记录</Text>
                    <SafeAreaView style={[styles.scroll, { height: height - 200 }]}>
                        <ScrollView
                            horizontal={true}
                            showsHorizontalScrollIndicator={false}
                        >
                            {scrollItem()}
                        </ScrollView>
                    </SafeAreaView>
                </View>
            );
    }

    const searchInfo = () => {
        if (searchClick === true)
            return (
                <View style={styles.search}>
                    <TouchableOpacity style={{ alignSelf: "flex-end", marginRight: 15 }} onPress={() => clickHistory()}>
                        <Ionicons name="paw-outline" size={28} style={{ color: "#789FFE" }} />
                        <Text>足迹</Text>
                    </TouchableOpacity>

                    <SafeAreaView>
                        <FlatList
                            data={searchData}
                            keyExtractor={dataItem => dataItem.orgId}
                            renderItem={renderItem}
                            ItemSeparatorComponent={renderSeparator}
                        />
                    </SafeAreaView>
                </View>
            );
    }

    useEffect(() => {
        fetch(UserInformation.ip + 'selectRecord.php?userId=' + UserInformation.id)
            .then(res => res.json())
            .then(resJson => {
                setData(resJson.slice(0, 10));
            })
    }, []);

    if (data !== undefined)
        return (
            <View style={styles.container}>
                <ImageBackground source={require("../data/img/content_1.png")} style={{ width: "100%", height: 80 }}>
                    <View style={styles.header}>
                        <Ionicons
                            name="chevron-back-outline"
                            size={25}
                            style={{ color: "rgba(255, 255, 255, 0.8)", position: "absolute", left: 7 }}
                            onPress={() => prop.navigation.goBack()}
                        />
                        <View style={styles.searchView}>
                            <Ionicons
                                name="search-outline"
                                size={18}
                                color="#BBB"
                                style={{ position: "absolute", left: 10 }}
                            />
                            <View style={{
                                borderLeftWidth: 1,
                                borderLeftColor: "#BBB",
                                height: 15,
                                position: "absolute",
                                left: 35,
                                top: 9
                            }} />
                            <TextInput
                                value={searchContent}
                                placeholder="请输入搜索信息"
                                onChangeText={text => setSearchContent(text)}
                                style={{ width: 160, marginLeft: 30, fontSize: 14 }}
                            />
                        </View>
                        <TouchableOpacity style={styles.btnSearch} onPress={() => search("")}>
                            <Text style={{ color: "#FFF", fontSize: 17 }}>搜索</Text>
                        </TouchableOpacity>
                    </View>
                </ImageBackground>
                <View style={{ marginHorizontal: 10, width: "100%" }}>
                    {history()}
                    {searchInfo()}
                </View>
            </View>
        );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        alignItems: "center",
        backgroundColor: "#FFF"
    },
    header: {
        width: "100%",
        height: 50,
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "center"
    },
    searchView: {
        borderWidth: 1,
        borderColor: "#7B9DF6",
        borderRadius: 15,
        height: 36,
        width: "60%",
        marginTop: 5,
        justifyContent: "center",
        backgroundColor: "#FFF",
        alignItems: "center"
    },
    btnSearch: {
        height: "90%",
        width: 60,
        justifyContent: "center",
        alignItems: "center",
        position: "absolute",
        right: 2,
    },
    scroll: {
        width: "100%",
        marginTop: 10
    },
    search: {
        width: "100%",
        marginTop: 10
    },
    viewSearch: {
        width: "100%",
        height: 70,
        flexDirection: "row",
        marginHorizontal: 10
    },
    head: {
        width: 50,
        height: 50,
        borderRadius: 4
    },
    searchName: {
        fontSize: 14,
        fontWeight: "bold",
        marginTop: 10,
        marginBottom: 5,
        flex: 3
    },
    searchTime: {
        fontSize: 12,
        color: "#CDC9C9",
        marginTop: 10,
        position: "absolute",
        right: 10
    },
    searchText: {
        fontSize: 12,
        color: "#999"
    },
});

export default Search;
```  
### SignAgreement.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    Dimensions,
    TouchableNativeFeedback,
    Image,
    ImageBackground,
    TouchableOpacity
} from "react-native";
import GlobalInfo from "./GlobalInfo";
import Tooltip from "./Tooltip";

const { width, height } = Dimensions.get("screen");
const SignAgreement = (prop) => {
    const [choose, setChoose] = useState("ellipse-outline");
    const [color, setColor] = useState("#D7D7D9");
    const [hintIcon, setHintIcon] = useState("");
    const [hintText, setHintText] = useState("");

    const handleClick = () => {
        choose === "ellipse-outline" ?
            setChoose("checkmark-circle-outline") : setChoose("ellipse-outline");
        color === "#D7D7D9" ? setColor("#8492FF") : setColor("#D7D7D9");
    }

    const activityTiming = () => {
        /** 从数据库获取开始时间 */

        console.log(GlobalInfo.isTiming)
        if (GlobalInfo.isTiming === true) {
            return (
                <TouchableOpacity style={styles.timingView} onPress={() => prop.navigation.navigate("ActivityTiming", {
                    beginTime: GlobalInfo.beginTime
                })}>
                    <Ionicons name="time-outline" size={20} style={styles.timingIcon} />
                    <Text style={styles.timingText}>正在计时活动...</Text>
                </TouchableOpacity>
            );
        }
    }

    const signIn = () => {
        if (color === "#8492FF") {
            if (GlobalInfo.isTiming === true) {
                setHintIcon("alert-outline");
                setHintText("您有正在服务的志愿活动，不能重复服务");   //需改，具体出错信息
                setTimeout(() => {
                    setHintIcon("");
                    setHintText("");
                }, 3000);
            }
            else
                prop.navigation.navigate('SignInputCode');
        }
    }

    return (
        <View style={{ backgroundColor: "#FFF", flex: 1 }}>
            <View style={styles.header}>
                <Text style={styles.title}>签到</Text>
            </View>
            <View style={{ flex: 1 }}>
                {activityTiming()}
                <ImageBackground
                    source={require("../data/img/signin_1.png")}
                    style={styles.background}
                    imageStyle={{ borderRadius: 10 }}
                >
                    <Text style={{ marginTop: 170, marginHorizontal: 10, lineHeight: 18 }}>
                        <Text style={{ fontWeight: "bold" }}>   我承诺</Text>
                        ，诚信参与志愿服务活动，签到签退所记录的志愿服务时长，为本人真实参与志愿服务活动所积累的时长。
                    </Text>
                    <Text style={{ marginHorizontal: 10, lineHeight: 18 }}>
                        <Text style={{ fontWeight: "bold" }}>   我同意</Text>
                        ，公开我的志愿服务时长和记录等信息，以配合广大志愿者和博青秀对诚信志愿的监督与核查。
                    </Text>
                    <View style={{ flexDirection: "row", alignSelf: "center", marginTop: 15 }}>
                        <Ionicons
                            name={choose}
                            size={20}
                            color={choose === "ellipse-outline" ? "black" : "#5AC19F"}
                            onPress={() => handleClick()}
                        />
                        <Text style={{ marginTop: 3, marginLeft: 3 }}>我已阅读，并同意签到诚信协议</Text>
                    </View>
                    <TouchableNativeFeedback>
                        <Text
                            style={[styles.btnSignin, { backgroundColor: color }]}
                            onPress={() => signIn()}>
                            我要签到
                        </Text>
                    </TouchableNativeFeedback>
                </ImageBackground>
            </View>
            {Tooltip(hintIcon, hintText, height)}
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: "center",
        alignItems: "center",
    },
    header: {
        backgroundColor: "#9D98FF",
        width: "100%",
        height: 70,
    },
    title: {
        fontSize: 25,
        height: 70,
        color: "#FFF",
        alignSelf: "center",
        textAlignVertical: "center"
    },
    btnSignin: {
        marginTop: 30,
        borderRadius: 50,
        width: 190,
        height: 38,
        textAlign: "center",
        textAlignVertical: 'center',
        alignSelf: "center",
        color: "#FFF",
        fontSize: 16,
    },
    background: {
        position: "absolute",
        top: 150,
        width: 280,
        height: 410,
        alignSelf: "center",
    },
    timingView: {
        flexDirection: "row",
        backgroundColor: "#A7B5FF",
        borderRadius: 10,
        marginTop: 50,
        padding: 10,
        width: 200,
        alignSelf: "center",
        alignItems: "center",
        justifyContent: "center",
        elevation: 4
    },
    timingIcon: {
        color: "#FFF",
        marginRight: 5
    },
    timingText: {
        color: "#FFF",
        fontSize: 18
    }
});

export default SignAgreement;
```  
### SignInputCode.js
```javascript
import React, { useEffect, useState } from "react";
import Ionicons from 'react-native-vector-icons/Ionicons';
import {
    Text,
    StyleSheet,
    View,
    TextInput,
    ImageBackground
} from "react-native";
import GlobalInfo from "./GlobalInfo";
import UserInformation from "./UserInformation";

// 签到首界面  也要获取ip地址


const SignInputCode = (prop) => {
    const [code, setCode] = useState();
    const [correct, isCorrect] = useState("");
    const [time, setTime] = useState(4);

    const judgeInput = async (text) => {
        setCode(text);
        if (text.length === 6) {
            /** 判断活动编码, */
            var nowCode = text;
            var ansJson;
            var ip = UserInformation.ip;
            await fetch(ip + 'selectRecruitBoardByCode.php?code=' + nowCode)
                .then(res => res.json())
                .then(resJson => {
                    if (resJson.length != 0) {
                        ansJson = resJson;
                        isCorrect(true);
                    }
                    else {
                        isCorrect(false);
                    }
                }).catch(e => console.log(e));
            console.log(ansJson);
            if (correct === true) {
                var orgId = ansJson[0].orgId;
                var userId = UserInformation.id;
                var recruitId = ansJson[0].recruitId;
                var timeId = ansJson[0].timeId;// 时间,应该根据这个时间进行一个判断
                var serveAddress = ansJson[0].serveAddress;
                if (serveAddress === UserInformation.userAddressNow) {
                    isCorrect(true);
                    // 先使用 applying 表好了,也不能重复签到的，按照逻辑来讲
                    await fetch(ip + 'addApplying.php?userId=' + userId + 'recruitId=' + recruitId);
                    //在applying表中插入数据

                }
                else {
                    isCorrect(false);
                }

            }

        }
    }

    const errorInput = () => {
        if (correct === false) {
            setTimeout(() => {
                isCorrect("");
            }, 2000);
            return (
                <View style={{
                    position: "absolute",
                    backgroundColor: "rgba(0, 0, 0, 0.7)",
                    alignSelf: "center",
                    width: 140,
                    height: 140,
                    borderRadius: 10,
                    marginTop: 200,
                    padding: 10
                }}>
                    <Ionicons
                        name="alert-circle-outline"
                        color="#FFF"
                        size={50}
                        style={{ alignSelf: "center", marginVertical: 10 }}>
                    </Ionicons>
                    <Text style={{ color: "#FFF", fontSize: 16, textAlign: "center" }}>活动已过期</Text>
                    <Text style={{ color: "#FFF", fontSize: 16, textAlign: "center" }}>或暂未开始</Text>
                </View>
            );
        }
    }

    const inputOrPrompt = () => {
        if (correct === true) {
            /** 将开始时间存入数据库 */

            GlobalInfo.isTiming = true;
            GlobalInfo.beginTime = new Date().valueOf();

            prop.navigation.navigate("ActivityTiming", {
                beginTime: GlobalInfo.beginTime
            })
        }
        else {
            return (
                <View style={{ backgroundColor: "rgba(255, 255, 255, 0.8)", zIndex: 1000, height: 1000 }}>
                    <Text style={styles.inputNote}>请输入活动编码</Text>
                    <View>
                        <TextInput
                            value={code}
                            maxLength={6}
                            keyboardType="number-pad"
                            onChangeText={text => judgeInput(text)}
                            style={styles.inputCode}
                        />
                        <View style={{ flexDirection: "row", alignSelf: "center" }}>
                            <View style={styles.underline}></View>
                            <View style={styles.underline}></View>
                            <View style={styles.underline}></View>
                            <View style={styles.underline}></View>
                            <View style={styles.underline}></View>
                            <View style={styles.underline}></View>
                        </View>
                    </View>
                    <Text style={{ alignSelf: "center", marginTop: 50, fontSize: 16, color: "black" }}>温馨提示</Text>
                    <Text style={{ marginTop: 20, marginHorizontal: 30, lineHeight: 20 }}>1.活动编码由6位数字组成，由活动管理员或组织者告知。</Text>
                    <Text style={{ marginHorizontal: 30, lineHeight: 20 }}>2.活动编码请勿在公共场所、网络聊天室等渠道公开传播。</Text>
                    {errorInput()}
                </View>
            );
        }
    }

    return (
        <View>
            <View style={{ zIndex: 1 }}>
                <View style={styles.header}>
                    <Text style={styles.title}>签到</Text>
                </View>
                <View style={{ flex: 1 }}>
                    <ImageBackground
                        source={require("../data/img/signin_1.png")}
                        style={styles.background}
                        imageStyle={{ borderRadius: 10 }}
                    >
                        <Text style={{ marginTop: 170, marginHorizontal: 10, lineHeight: 18 }}>
                            <Text style={{ fontWeight: "bold" }}>   我承诺</Text>
                            ，诚信参与志愿服务活动，签到签退所记录的志愿服务时长，为本人真实参与志愿服务活动所积累的时长。
                        </Text>
                        <Text style={{ marginHorizontal: 10, lineHeight: 18 }}>
                            <Text style={{ fontWeight: "bold" }}>   我同意</Text>
                            ，公开我的志愿服务时长和记录等信息，以配合广大志愿者和博青秀对诚信志愿的监督与核查。
                        </Text>
                        <View style={{ flexDirection: "row", alignSelf: "center", marginTop: 15 }}>
                            <Ionicons
                                name="checkmark-circle-outline"
                                size={20}
                                color="#5AC19F"
                            />
                            <Text style={{ marginTop: 3, marginLeft: 3 }}>我已阅读，并同意签到诚信协议</Text>
                        </View>
                        <Text style={[styles.btnSignin, { backgroundColor: "#8492FF" }]}>我要签到</Text>
                    </ImageBackground>
                </View>
            </View>
            {inputOrPrompt()}
        </View>
    );
}

const styles = StyleSheet.create({
    container: {
        flex: 1,
        justifyContent: "center",
        alignItems: "center",
    },
    header: {
        backgroundColor: "#9D98FF",
        width: "100%",
        height: 70,
    },
    title: {
        fontSize: 25,
        height: 70,
        color: "#FFF",
        alignSelf: "center",
        textAlignVertical: "center"
    },
    btnSignin: {
        marginTop: 30,
        borderRadius: 50,
        width: 190,
        height: 38,
        textAlign: "center",
        textAlignVertical: 'center',
        alignSelf: "center",
        color: "#FFF",
        fontSize: 16,
    },
    background: {
        position: "absolute",
        top: 150,
        width: 280,
        height: 410,
        alignSelf: "center",
    },
    inputNote: {
        alignSelf: "center",
        fontSize: 20,
        marginTop: 50,
        color: "black"
    },
    inputCode: {
        marginTop: 30,
        marginLeft: 16,
        height: 50,
        fontSize: 28,
        letterSpacing: 39,
        color: "#9D98FF",
        width: "100%",
    },
    underline: {
        borderBottomWidth: 3,
        borderBottomColor: "#E3E3E3",
        width: 33,
        marginHorizontal: 10,
    }
});

export default SignInputCode;
```  
### Tooltip.js
```javascript
import Ionicons from 'react-native-vector-icons/Ionicons';
import { Text, View, StyleSheet } from "react-native";

const Tooltip = (icon, text, height) => {
    if (icon === "" && text !== "") {
        return (
            <View style={[styles.container, { height: 50, marginTop: height / 2 - 25 }]}>
                <Text style={{ color: "#FFF", fontSize: 16, textAlign: "center" }}>{text}</Text>
            </View>
        );
    }
    else if (icon !== "" && text !== "") {
        return (
            <View style={[styles.container, { height: 100, marginTop: height / 2 - 50 }]}>
                <Ionicons
                    name={icon}
                    size={27}
                    style={{ color: "#FFF", alignSelf: "center", marginBottom: 10 }}
                />
                <Text style={{ color: "#FFF", fontSize: 18, textAlign: "center" }}>{text}</Text>
            </View>
        );
    }
};

const styles = StyleSheet.create({
    container: {
        flexDirection: "column",
        position: "absolute",
        backgroundColor: "rgba(0, 0, 0, 0.7)",
        alignSelf: "center",
        width: 140,
        borderRadius: 10,
        alignItems: "center",
        justifyContent: "center",
        display: "flex"
    }
});

export default Tooltip;
```
### UserInformation.js
```javascript
/**
 * 这里存放的是一些全局的信息
 */

/**
 * 司晨旭
 */
// const ip = 'http://192.168.144.249:3000/';//手机热点
// const ip = 'http://192.168.2.206:3000/';// 家里wifi
// const ip = 'http://101.34.44.163:3000/';
// const id = "";
// const userName = "";
// const password = "";
// const userIdentity = "";
// const userAddressNow = "";
// export default { ip, id, userName, password, userIdentity, userAddressNow };

/**
 * 这里存放的是一些全局的信息
 */

const ip = 'http://101.34.44.163:3000/';

const id = "";
const account = "";
const identity = "";
const userAddressNow = "";
export default { ip, id, account, identity, userAddressNow };


```  
## 后端代码
### addAdmin.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$userId = $_GET['userId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "insert into admin set  adminName='${name}' , adminPwd='${password}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```
### addApplying.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$recruitId = $_GET['recruitId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "insert into applying(userId,recruitId)  values(5,1)";
// echo $sql;

if (mysqli_query($conn, $sql)) {
    echo "新记录插入成功";
} else {
    echo "Error: " . $sql . "<br>" . mysqli_error($conn);
}
 
mysqli_close($conn);

?>
```  
### addMsg.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$meId = $_GET['meId'];
$youId = $_GET['youId'];
$msg = $_GET['msg'];
$time = $_GET['time'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "insert into message(meId,youId,msg,msgTime,isRead) values('${meId}','${youId}','${msg}','${time}',0)";
// echo $sql;

if (mysqli_query($conn, $sql)) {
    echo "新记录插入成功";
} else {
    echo "Error: " . $sql . "<br>" . mysqli_error($conn);
}
 
mysqli_close($conn);

?>
```  
### addNormalUser.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$nUserName = $_GET['nUserName'];
$phone = $_GET['phone'];
$password = $_GET['password'];
$nUserImg = $_GET['nUserImg'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "insert into normalUser(userId, nUserName, sex, nUserPhone, nUserPwd, nUserImg, totalTime) values(${userId}, '${nUserName}', '男', '${phone}', '${password}', '${nUserImg}', 0)";
// echo $sql;

if (mysqli_query($conn, $sql)) {
    echo "新记录插入成功";
} else {
    echo "Error: " . $sql . "<br>" . mysqli_error($conn);
}
 
mysqli_close($conn);

?>
```  
### addOrg.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$orgName = $_GET['orgName'];
$phone = $_GET['phone'];
$password = $_GET['password'];
$orgImg = $_GET['orgImg'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "insert into organization(userId, orgName, orgPhone, orgPwd, orgImg) values(${userId}, '${orgName}', '${phone}', '${password}', '${orgImg}')";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### addRecord.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$record = $_GET['record'];
$curTime = $_GET['curTime'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "INSERT INTO history(userId, record, curTime) VALUES (${userId}, '${record}', '${curTime}')";
// echo $sql;

if (mysqli_query($conn, $sql)) {
    echo "新记录插入成功";
} else {
    echo "Error: " . $sql . "<br>" . mysqli_error($conn);
}
 
mysqli_close($conn);

?>
```  
### addUser.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$name = $_GET['name'];
$type = $_GET['type'];
$imgSource = $_GET['imgSource'];


$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "INSERT INTO user(userId, name, type, imgSource) VALUES('$userId', '${name}', ${type}, '${imgSource}')";
// echo $sql;

if (mysqli_query($conn, $sql)) {
    echo "新记录插入成功";
} else {
    echo "Error: " . $sql . "<br>" . mysqli_error($conn);
}
 
mysqli_close($conn);

?>
```  
### search.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$info = $_GET['info'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT DISTINCT o.* FROM organization o LEFT JOIN recruitboard r on (o.orgId = r.orgId) WHERE orgName LIKE '%${info}%' or serveContent LIKE '%${info}%' or address LIKE '%${info}%' or introduction LIKE '%${info}%' or feature LIKE '$${info}$'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectAdmByName.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$name = $_GET['name'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "select * from admin where adminName = '${name}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectAppointById.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$orgId = $_GET['orgId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT * FROM appointment WHERE orgId = ${orgId}";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectAppointment.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$id = $_GET['id'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from appointment where appointId = '${id}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectHistoryByRecord.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$record = $_GET['record'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT * FROM history WHERE record = '${record}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectLastTimeByUserIdAndYouId.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$otherId = $_GET['otherId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select max(msgTime) as t from message where meId ='${userId}' and youId = '${otherId}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectLastTimeByUserIdOrYouId.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$otherId = $_GET['otherId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select max(msgTime) as t from message where (meId ='${userId}' and youId = '${otherId}' ) or youId = '${userId}' and meId = '${otherId}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectMaxUserId.php4
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT MAX(userId) + 1 maxUserId FROM user";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr[0]);

?>
```  
### selectMessageByUserId.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$id = $_GET['id'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT * FROM message WHERE meId = ${id}";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectMsgByMeIdAndYouId.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$userId = $_GET['userId'];
$otherId = $_GET['otherId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "select * from message where (meId = '${userId}' and youId ='${otherId}' ) or (meId = '${otherId}' and youId = '${userId}')";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectMsgByUserIdAndYouIdAndTime.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$otherId = $_GET['otherId'];
$time = $_GET['time'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select msg from message where meId = '${userId}' and youId = '${otherId}' and msgTime = '${time}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```
### selectMsgByUserIdOrYouIdAndTime.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$otherId = $_GET['otherId'];
$time = $_GET['time'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select msgId,msg from message where (meId ='${userId}' and youId = '${otherId}' and msgTime = '${time}') or (youId = '${userId}' and meId = '${otherId}' and msgTime = '${time}')";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectNormalUserByPhoneAndPwd.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$phone = $_GET['phone'];
$password = $_GET['password'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "select * from normalUser where nUserPhone = '${phone}' and nUserPwd = '${password}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectOrgAll.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT * FROM organization where address is not NULL";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectOrgById.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$orgId = $_GET['orgId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT * FROM organization where orgId = ${orgId}";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectOrgByPhone.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$phone = $_GET['phone'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from organization where orgPhone = '${phone}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectOrgByUserId.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from organization where userId = '${userId}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```
### selectOrgImyByUserId.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select orgImg from organization where userId = '${userId}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectRecord.php 
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "SELECT * FROM history WHERE userId = ${userId} ORDER BY curTime DESC";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectRecruitboard.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from recruitboard";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectRecruitBoardByCode.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$code = $_GET['code'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "select * from recruitboard where code ='${code}' ";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectTheCountOfUnReadMessage.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$userId = $_GET['userId'];
$otherId = $_GET['otherId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select count(*) as c from message where (meId = '${userId}' and youId = '${otherId}' and isRead = 0) or (meId = '${otherId}' and youId = '${userId}' and isRead = 0)";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
``` 
### selectUserByName.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$name = $_GET['name'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from normalUser where nUserName = '${name}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectUserByNameAndPwd.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$name = $_GET['name'];
$password = $_GET['password'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from normalUser where nUserPhone = '${name}' and nUserPwd = '${password}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectUserByPhone.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$phone = $_GET['phone'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select * from normalUser where nUserPhone = '${phone}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectUserByUserId.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$id = $_GET['id'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "select * from user where userId = '${id}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### selectYouIdByUserId.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$id = $_GET['id'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "select DISTINCT youId from message where meId = '${id}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### updateHistoryTime.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$curTime = $_GET['curTime'];
$historyId = $_GET['historyId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "UPDATE history SET curTime = '${curTime}' WHERE historyId = ${historyId}";
echo $sql;
$query = mysqli_query($conn, $sql);
echo $query;

?> 
```  
### updateMsyIsRead.php 
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$meId = $_GET['meId'];
$youId = $_GET['youId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "update message set isRead = 1 where (meId = '${meId}' and youId = '${youId}') or (meId ='${youId}' and youId ='${meId}')";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```  
### updateNormalUserPwdByPhone.php
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$phone = $_GET['phone'];
$password = $_GET['password'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "update normalUser set nUserPwd ='${password}' where nUserPhone = '${phone}'";
echo $sql;
$query = mysqli_query($conn, $sql);
echo $query;

?>
```  
### updateOrgPwdByPhone.php  
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名

$phone = $_GET['phone'];
$password = $_GET['password'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码

$sql = "update organization set orgPwd ='${password}' where orgPhone = '${phone}'";
echo $sql;
$query = mysqli_query($conn, $sql);
echo $query;

?>
```  
### updateTotalTimeByUserId.php 
```php
<?php
$mysql_server_name = 'localhost'; //改成自己的mysql数据库服务器
$mysql_username = 'mysqld'; //改成自己的mysql数据库用户名
$mysql_password = 'kqaz1234'; //改成自己的mysql数据库密码
$mysql_database = 'boqingxiu'; //改成自己的mysql数据库名
//////////左边为内部变量，右边为输入参数
$totalTime = $_GET['totalTime'];
$userId = $_GET['userId'];

$conn=mysqli_connect($mysql_server_name,$mysql_username,$mysql_password,$mysql_database); //连接数据库

//连接数据库错误提示

if (mysqli_connect_errno($conn)) { 

    die("连接 MySQL 失败: " . mysqli_connect_error()); 

}

mysqli_query($conn,"set names utf8"); //数据库编码格式

// mysqli_set_charset($conn,"utf8");//设置默认客户端字符集。

// mysqli_select_db($conn,$mysql_database); //更改连接的默认数据库

//查询代码
//////////sql语句改一下就ok了，就2处地方要改
$sql = "update normalUser set totalTime = totalTime+ '${totalTime}' where userId = '{$userId}'";
// echo $sql;

$query = mysqli_query($conn, $sql);
$arr = array();  
while($row=mysqli_fetch_assoc($query)){
    array_push($arr, $row);
}
echo json_encode($arr);

?>
```